# üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

## 1Ô∏è‚É£ –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞

### –û—Ç—Ä–∏–º–∞–π—Ç–µ Telegram Bot Token
1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ [@BotFather](https://t.me/BotFather) –≤ Telegram
2. –ù–∞–¥—ñ—à–ª—ñ—Ç—å `/newbot`
3. –í–∫–∞–∂—ñ—Ç—å –Ω–∞–∑–≤—É —Ç–∞ username –±–æ—Ç–∞
4. –°–∫–æ–ø—ñ—é–π—Ç–µ —Ç–æ–∫–µ–Ω

### (–û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ) Google Maps API Key
1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ [Google Cloud Console](https://console.cloud.google.com/)
2. –°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–∏–π –ø—Ä–æ—î–∫—Ç
3. –£–≤—ñ–º–∫–Ω—ñ—Ç—å API:
   - Distance Matrix API
   - Geocoding API
   - Static Maps API
4. –°—Ç–≤–æ—Ä—ñ—Ç—å API –∫–ª—é—á

## 2Ô∏è‚É£ –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### –ö–ª–æ–Ω—É–π—Ç–µ —ñ –≤—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å
```bash
git clone <repo-url>
cd telegram-taxi-bot
pip install -r requirements.txt
```

### –°—Ç–≤–æ—Ä—ñ—Ç—å .env —Ñ–∞–π–ª
```bash
cp .env.example .env
```

–í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ `.env`:
```env
BOT_TOKEN=123456789:ABCdefGHIjklMNOpqrsTUVwxyz  # –í–∞—à —Ç–æ–∫–µ–Ω –≤—ñ–¥ BotFather
ADMIN_IDS=6828579427                              # ID –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞
GOOGLE_MAPS_API_KEY=AIzaSy...                    # (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ) Google Maps
DB_PATH=data/taxi.sqlite3                        # –®–ª—è—Ö –¥–æ –ë–î
```

## 3Ô∏è‚É£ –ó–∞–ø—É—Å–∫

```bash
python3 -m app.main
```

–ü–æ–±–∞—á–∏—Ç–µ:
```
INFO - üöÄ Bot started successfully!
INFO - Started polling
```

## 4Ô∏è‚É£ –ü–µ—Ä—à–∏–π –∑–∞–ø—É—Å–∫ - –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### –Ø–∫ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä:

1. **–í—ñ–¥–∫—Ä–∏–π—Ç–µ –±–æ—Ç–∞** —ñ –Ω–∞–¥—ñ—à–ª—ñ—Ç—å `/start`
2. **–ù–∞–ª–∞—à—Ç—É–π—Ç–µ —Ç–∞—Ä–∏—Ñ–∏:**
   ```
   /admin ‚Üí üí∞ –¢–∞—Ä–∏—Ñ–∏ ‚Üí ‚úèÔ∏è –ó–º—ñ–Ω–∏—Ç–∏ —Ç–∞—Ä–∏—Ñ–∏
   ```
   –ü—Ä–∏–∫–ª–∞–¥:
   - –ë–∞–∑–æ–≤–∞ —Ü—ñ–Ω–∞: `50` –≥—Ä–Ω
   - –¶—ñ–Ω–∞ –∑–∞ –∫–º: `8` –≥—Ä–Ω
   - –¶—ñ–Ω–∞ –∑–∞ —Ö–≤–∏–ª–∏–Ω—É: `2` –≥—Ä–Ω
   - –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ —Å—É–º–∞: `60` –≥—Ä–Ω

### –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —è–∫ –∫–ª—ñ—î–Ω—Ç:

1. **–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è:**
   ```
   /start ‚Üí –ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è
   ```
   –ù–∞–¥–∞–π—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É

2. **–ó–∞–º–æ–≤–ª–µ–Ω–Ω—è —Ç–∞–∫—Å—ñ:**
   ```
   /order –∞–±–æ –∫–Ω–æ–ø–∫–∞ "–ó–∞–º–æ–≤–∏—Ç–∏ —Ç–∞–∫—Å—ñ"
   ```
   - –í–≤–µ–¥—ñ—Ç—å —ñ–º'—è —Ç–∞ —Ç–µ–ª–µ—Ñ–æ–Ω
   - **–í–∞–∂–ª–∏–≤–æ:** –ù–∞–¥—ñ—à–ª—ñ—Ç—å –≥–µ–æ–ª–æ–∫–∞—Ü—ñ—é (–∫–Ω–æ–ø–∫–∞ üìç)
   - –í–∫–∞–∂—ñ—Ç—å –ø—É–Ω–∫—Ç –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è
   - –ü—ñ–¥—Ç–≤–µ—Ä–¥—ñ—Ç—å

### –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —è–∫ –≤–æ–¥—ñ–π:

1. **–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è (–∑ —ñ–Ω—à–æ–≥–æ –∞–∫–∞—É–Ω—Ç–∞):**
   ```
   /start ‚Üí –°—Ç–∞—Ç–∏ –≤–æ–¥—ñ—î–º
   ```
   –ó–∞–ø–æ–≤–Ω—ñ—Ç—å:
   - –ü–Ü–ë: `–Ü–≤–∞–Ω–æ–≤ –Ü–≤–∞–Ω –Ü–≤–∞–Ω–æ–≤–∏—á`
   - –¢–µ–ª–µ—Ñ–æ–Ω: `+380671234567`
   - –ú–∞—Ä–∫–∞: `Toyota`
   - –ú–æ–¥–µ–ª—å: `Camry`
   - –ù–æ–º–µ—Ä: `–ê–ê1234–í–í`
   - –§–æ—Ç–æ –ø–æ—Å–≤—ñ–¥—á–µ–Ω–Ω—è (–∞–±–æ `/skip`)

2. **–ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –∑–∞—è–≤–∫–∏ (—è–∫ –∞–¥–º—ñ–Ω):**
   ```
   /admin ‚Üí üë• –ú–æ–¥–µ—Ä–∞—Ü—ñ—è –≤–æ–¥—ñ—ó–≤ ‚Üí ‚úÖ –ü—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏
   ```

3. **–í–æ–¥—ñ–π –æ—Ç—Ä–∏–º–∞—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è:**
   ```
   "–í–∞—à—É –∑–∞—è–≤–∫—É –≤–æ–¥—ñ—è –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–æ. –í–∏ –∞–∫—Ç–∏–≤–Ω—ñ!"
   ```

4. **–ü–∞–Ω–µ–ª—å –≤–æ–¥—ñ—è:**
   ```
   /driver
   ```
   - –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å `üî¥ –û—Ñ–ª–∞–π–Ω` ‚Üí —Å—Ç–∞–Ω–µ `üü¢ –û–Ω–ª–∞–π–Ω`
   - –ù–∞–¥—ñ—à–ª—ñ—Ç—å –≥–µ–æ–ª–æ–∫–∞—Ü—ñ—é (–∫–Ω–æ–ø–∫–∞ üìç)
   - –ß–µ–∫–∞–π—Ç–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è!

5. **–ö–æ–ª–∏ –ø—Ä–∏–π–¥–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è:**
   - `‚úÖ –ü—Ä–∏–π–Ω—è—Ç–∏` - –ø—Ä–∏–π–Ω—è—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
   - `üöó –ü–æ—á–∞—Ç–∏ –ø–æ—ó–∑–¥–∫—É` - –ø–æ—á–∞—Ç–∏
   - `‚úÖ –ó–∞–≤–µ—Ä—à–∏—Ç–∏ –ø–æ—ó–∑–¥–∫—É` - –∑–∞–≤–µ—Ä—à–∏—Ç–∏

6. **–ü–µ—Ä–µ–≥–ª—è–¥ –∑–∞—Ä–æ–±—ñ—Ç–∫—É:**
   ```
   /driver ‚Üí üìä –ó–∞—Ä–æ–±—ñ—Ç–æ–∫
   ```

## 5Ô∏è‚É£ –ö–æ—Ä–∏—Å–Ω—ñ –∫–æ–º–∞–Ω–¥–∏

### –î–ª—è –≤—Å—ñ—Ö:
- `/start` - –ì–æ–ª–æ–≤–Ω–µ –º–µ–Ω—é
- `/help` - –î–æ–ø–æ–º–æ–≥–∞

### –î–ª—è –∫–ª—ñ—î–Ω—Ç—ñ–≤:
- `/order` - –ó–∞–º–æ–≤–∏—Ç–∏ —Ç–∞–∫—Å—ñ
- `/client` - –ú–µ–Ω—é –∫–ª—ñ—î–Ω—Ç–∞
- `/my_rating` - –ú—ñ–π —Ä–µ–π—Ç–∏–Ω–≥

### –î–ª—è –≤–æ–¥—ñ—ó–≤:
- `/driver` - –ü–∞–Ω–µ–ª—å –≤–æ–¥—ñ—è
- `/register_driver` - –ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—å —è–∫ –≤–æ–¥—ñ–π
- `/my_driver_status` - –°—Ç–∞—Ç—É—Å –∑–∞—è–≤–∫–∏
- `/my_rating` - –ú—ñ–π —Ä–µ–π—Ç–∏–Ω–≥

### –î–ª—è –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞:
- `/admin` - –ê–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å
- `/orders` - –û—Å—Ç–∞–Ω–Ω—ñ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
- `/pending_drivers` - –ó–∞—è–≤–∫–∏ –≤–æ–¥—ñ—ó–≤

## 6Ô∏è‚É£ Workflow –ø–æ–≤–Ω–æ—ó –ø–æ—ó–∑–¥–∫–∏

1. **–ö–ª—ñ—î–Ω—Ç:** `/order` ‚Üí –≤–≤–æ–¥–∏—Ç—å –¥–∞–Ω—ñ ‚Üí –Ω–∞–¥—Å–∏–ª–∞—î –≥–µ–æ–ª–æ–∫–∞—Ü—ñ—é ‚Üí –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂—É—î
2. **–°–∏—Å—Ç–µ–º–∞:** –ó–Ω–∞—Ö–æ–¥–∏—Ç—å –Ω–∞–π–±–ª–∏–∂—á–æ–≥–æ –æ–Ω–ª–∞–π–Ω-–≤–æ–¥—ñ—è
3. **–í–æ–¥—ñ–π:** –û—Ç—Ä–∏–º—É—î —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è ‚Üí `‚úÖ –ü—Ä–∏–π–Ω—è—Ç–∏`
4. **–ö–ª—ñ—î–Ω—Ç:** –û—Ç—Ä–∏–º—É—î –¥–∞–Ω—ñ –≤–æ–¥—ñ—è (–ü–Ü–ë, –∞–≤—Ç–æ, –Ω–æ–º–µ—Ä, —Ç–µ–ª–µ—Ñ–æ–Ω)
5. **–í–æ–¥—ñ–π:** `üöó –ü–æ—á–∞—Ç–∏ –ø–æ—ó–∑–¥–∫—É`
6. **–ö–ª—ñ—î–Ω—Ç:** –û—Ç—Ä–∏–º—É—î "–ü–æ—ó–∑–¥–∫—É —Ä–æ–∑–ø–æ—á–∞—Ç–æ!"
7. **–í–æ–¥—ñ–π:** `‚úÖ –ó–∞–≤–µ—Ä—à–∏—Ç–∏ –ø–æ—ó–∑–¥–∫—É`
8. **–°–∏—Å—Ç–µ–º–∞:** –†–æ–∑—Ä–∞—Ö–æ–≤—É—î –≤–∞—Ä—Ç—ñ—Å—Ç—å —Ç–∞ –∫–æ–º—ñ—Å—ñ—é
9. **–ö–ª—ñ—î–Ω—Ç:** –û—Ç—Ä–∏–º—É—î —á–µ–∫ —Ç–∞ –º–æ–∂–µ –æ—Ü—ñ–Ω–∏—Ç–∏ –≤–æ–¥—ñ—è (‚≠êÔ∏è 1-5)
10. **–í–æ–¥—ñ–π:** –ë–∞—á–∏—Ç—å –∑–∞—Ä–æ–±—ñ—Ç–æ–∫ —Ç–∞ –∫–æ–º—ñ—Å—ñ—é

## üî• –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –ø—ñ–¥–±—ñ—Ä –≤–æ–¥—ñ—è
- –°–∏—Å—Ç–µ–º–∞ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å **–Ω–∞–π–±–ª–∏–∂—á–æ–≥–æ –æ–Ω–ª–∞–π–Ω-–≤–æ–¥—ñ—è** –∑ –≥–µ–æ–ª–æ–∫–∞—Ü—ñ—î—é
- –Ø–∫—â–æ –≥–µ–æ–ª–æ–∫–∞—Ü—ñ—è –Ω–µ –Ω–∞–¥–∞–Ω–∞, –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –ø–æ—Ç—Ä–µ–±—É—î —Ä—É—á–Ω–æ—ó –æ–±—Ä–æ–±–∫–∏

### –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –≤–∞—Ä—Ç–æ—Å—Ç—ñ
- –ó Google Maps API: —Ç–æ—á–Ω–∞ –≤—ñ–¥—Å—Ç–∞–Ω—å —Ç–∞ —á–∞—Å
- –ë–µ–∑ API: –æ—Ü—ñ–Ω–æ—á–Ω–∏–π —Ä–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ (5 –∫–º, 10 —Ö–≤)

### –ö–æ–º—ñ—Å—ñ—è
- **2%** –≤—ñ–¥ –∫–æ–∂–Ω–æ—ó –ø–æ—ó–∑–¥–∫–∏
- –ù–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è —â–æ–¥–Ω—è –æ **20:00 UTC**
- –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –≤ `/driver ‚Üí üìä –ó–∞—Ä–æ–±—ñ—Ç–æ–∫`

### –†–µ–π—Ç–∏–Ω–≥–∏
- –ö–ª—ñ—î–Ω—Ç –æ—Ü—ñ–Ω—é—î –≤–æ–¥—ñ—è –ø—ñ—Å–ª—è –ø–æ—ó–∑–¥–∫–∏ (1-5 –∑—ñ—Ä–æ–∫)
- –°–µ—Ä–µ–¥–Ω—ñ–π —Ä–µ–π—Ç–∏–Ω–≥: `/my_rating`

## ‚ùì –ü—Ä–æ–±–ª–µ–º–∏

### –ë–æ—Ç –Ω–µ –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è
```bash
# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Ç–æ–∫–µ–Ω
cat .env | grep BOT_TOKEN

# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
pip install -r requirements.txt
```

### –ù–µ –ø—Ä–∞—Ü—é—î –≥–µ–æ–ª–æ–∫–∞—Ü—ñ—è
- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å, —â–æ Google Maps API –∫–ª—é—á –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ —É–≤—ñ–º–∫–Ω–µ–Ω—ñ –ø–æ—Ç—Ä—ñ–±–Ω—ñ API

### –í–æ–¥—ñ–π –Ω–µ –æ—Ç—Ä–∏–º—É—î –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
1. –í–æ–¥—ñ–π –º–∞—î –±—É—Ç–∏ `approved` (–ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ `/my_driver_status`)
2. –í–æ–¥—ñ–π –º–∞—î –±—É—Ç–∏ `üü¢ –û–Ω–ª–∞–π–Ω`
3. –í–æ–¥—ñ–π –º–∞—î –Ω–∞–¥—ñ—Å–ª–∞—Ç–∏ –≥–µ–æ–ª–æ–∫–∞—Ü—ñ—é
4. –ö–ª—ñ—î–Ω—Ç —Ç–µ–∂ –º–∞—î –Ω–∞–¥—ñ—Å–ª–∞—Ç–∏ –≥–µ–æ–ª–æ–∫–∞—Ü—ñ—é

## üìû –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

–í—Å—ñ –ø–∏—Ç–∞–Ω–Ω—è —Ç–∞ –±–∞–≥–∏ - –¥–æ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞!

---

**–ì–æ—Ç–æ–≤–æ! –ü–æ—á–Ω—ñ—Ç—å –ø—Ä–∏–π–º–∞—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è! üöñüí®**
