# üöñ Telegram Taxi Bot

–ü–æ–≤–Ω–æ—Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π Telegram –±–æ—Ç –¥–ª—è —Ç–∞–∫—Å—ñ-—Å–µ—Ä–≤—ñ—Å—É –∑ —Ñ—É–Ω–∫—Ü—ñ—è–º–∏, –ø–æ–¥—ñ–±–Ω–∏–º–∏ –¥–æ Uber/Bolt.

## üìã –ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

### –î–ª—è –∫–ª—ñ—î–Ω—Ç—ñ–≤:
- ‚úÖ –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è —á–µ—Ä–µ–∑ Telegram
- üöñ –ó–∞–º–æ–≤–ª–µ–Ω–Ω—è —Ç–∞–∫—Å—ñ –∑ –≥–µ–æ–ª–æ–∫–∞—Ü—ñ—î—é
- üìç –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –≤—ñ–¥—Å—Ç–∞–Ω—ñ —Ç–∞ –≤–∞—Ä—Ç–æ—Å—Ç—ñ
- üìú –Ü—Å—Ç–æ—Ä—ñ—è –∑–∞–º–æ–≤–ª–µ–Ω—å
- ‚≠êÔ∏è –û—Ü—ñ–Ω–∫–∞ –≤–æ–¥—ñ—ó–≤
- üîî –°–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø—Ä–æ —Å—Ç–∞—Ç—É—Å –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è

### –î–ª—è –≤–æ–¥—ñ—ó–≤:
- üìù –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –∑ –º–æ–¥–µ—Ä–∞—Ü—ñ—î—é
- üü¢ –ü–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è —Å—Ç–∞—Ç—É—Å—É –æ–Ω–ª–∞–π–Ω/–æ—Ñ–ª–∞–π–Ω
- üìç –û–Ω–æ–≤–ª–µ–Ω–Ω—è –≥–µ–æ–ª–æ–∫–∞—Ü—ñ—ó
- üì≤ –ü—Ä–∏–π–æ–º/–≤—ñ–¥—Ö–∏–ª–µ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω—å
- üöó –ö–µ—Ä—É–≤–∞–Ω–Ω—è –ø–æ—ó–∑–¥–∫–∞–º–∏
- üí∞ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∑–∞—Ä–æ–±—ñ—Ç–∫—É
- üí≥ –í—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –∫–æ–º—ñ—Å—ñ—ó
- ‚è∞ –ù–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è –ø—Ä–æ —Å–ø–ª–∞—Ç—É –∫–æ–º—ñ—Å—ñ—ó (—â–æ–¥–Ω—è –æ 20:00)
- üìú –Ü—Å—Ç–æ—Ä—ñ—è –ø–æ—ó–∑–¥–æ–∫

### –î–ª—è –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞:
- üë• –ú–æ–¥–µ—Ä–∞—Ü—ñ—è –∑–∞—è–≤–æ–∫ –≤–æ–¥—ñ—ó–≤
- üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º–∏
- üí∞ –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ç–∞—Ä–∏—Ñ—ñ–≤
- üìã –ü–µ—Ä–µ–≥–ª—è–¥ –∑–∞–º–æ–≤–ª–µ–Ω—å
- üì¢ –†–æ–∑—Å–∏–ª–∫–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
- üíµ –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ñ—ñ–Ω–∞–Ω—Å—ñ–≤

## üèóÔ∏è –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

- **–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞**: Telegram Bot API (aiogram 3.x)
- **–ë–∞–∑–∞ –¥–∞–Ω–∏—Ö**: SQLite (–ª–µ–≥–∫–æ –º—ñ–≥—Ä—É–≤–∞—Ç–∏ –Ω–∞ PostgreSQL)
- **–ì–µ–æ–ª–æ–∫–∞—Ü—ñ—è**: Google Maps API (Distance Matrix, Geocoding, Static Maps)
- **–ü–ª–∞—Ç–µ–∂—ñ**: –ì–æ—Ç—ñ–≤–∫–∞ –∞–±–æ –∫–∞—Ä—Ç–∫–∞ –≤–æ–¥—ñ—è (–∑ —É—Ç—Ä–∏–º–∞–Ω–Ω—è–º 2% –∫–æ–º—ñ—Å—ñ—ó)

## üì¶ –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

### 1. –ö–ª–æ–Ω—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π

```bash
git clone <repository-url>
cd telegram-taxi-bot
```

### 2. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ

```bash
pip install -r requirements.txt
```

### 3. –ù–∞–ª–∞—à—Ç—É–π—Ç–µ –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–µ–Ω—ñ –ø—Ä–æ—î–∫—Ç—É:

```env
BOT_TOKEN=your_telegram_bot_token
ADMIN_IDS=6828579427
GOOGLE_MAPS_API_KEY=your_google_maps_api_key
DB_PATH=data/taxi.sqlite3
```

**–Ø–∫ –æ—Ç—Ä–∏–º–∞—Ç–∏ —Ç–æ–∫–µ–Ω–∏:**

- **BOT_TOKEN**: –°—Ç–≤–æ—Ä—ñ—Ç—å –±–æ—Ç–∞ —á–µ—Ä–µ–∑ [@BotFather](https://t.me/BotFather)
- **GOOGLE_MAPS_API_KEY**: –û—Ç—Ä–∏–º–∞–π—Ç–µ –≤ [Google Cloud Console](https://console.cloud.google.com/)
  - –£–≤—ñ–º–∫–Ω—ñ—Ç—å: Distance Matrix API, Geocoding API, Static Maps API

### 4. –ó–∞–ø—É—Å—Ç—ñ—Ç—å –±–æ—Ç–∞

```bash
python -m app.main
```

## üöÄ –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –î–ª—è –∫–ª—ñ—î–Ω—Ç—ñ–≤:

1. –ù–∞–ø–∏—à—ñ—Ç—å –±–æ—Ç—É `/start`
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "–ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è" —ñ –Ω–∞–¥–∞–π—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É
3. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "–ó–∞–º–æ–≤–∏—Ç–∏ —Ç–∞–∫—Å—ñ" –∞–±–æ `/order`
4. –í–≤–µ–¥—ñ—Ç—å –¥–∞–Ω—ñ —Ç–∞ –Ω–∞–¥—ñ—à–ª—ñ—Ç—å –≥–µ–æ–ª–æ–∫–∞—Ü—ñ—é
5. –ü—ñ–¥—Ç–≤–µ—Ä–¥—ñ—Ç—å –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
6. –û—á—ñ–∫—É–π—Ç–µ –≤–æ–¥—ñ—è!

### –î–ª—è –≤–æ–¥—ñ—ó–≤:

1. –ù–∞–ø–∏—à—ñ—Ç—å –±–æ—Ç—É `/start`
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "–°—Ç–∞—Ç–∏ –≤–æ–¥—ñ—î–º" –∞–±–æ `/register_driver`
3. –ó–∞–ø–æ–≤–Ω—ñ—Ç—å –∞–Ω–∫–µ—Ç—É (–ü–Ü–ë, —Ç–µ–ª–µ—Ñ–æ–Ω, –¥–∞–Ω—ñ –∞–≤—Ç–æ, —Ñ–æ—Ç–æ –ø–æ—Å–≤—ñ–¥—á–µ–Ω–Ω—è)
4. –û—á—ñ–∫—É–π—Ç–µ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –≤—ñ–¥ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞
5. –ü—ñ—Å–ª—è –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è:
   - `/driver` - –ü–∞–Ω–µ–ª—å –≤–æ–¥—ñ—è
   - –ü–µ—Ä–µ–º–∫–Ω—ñ—Ç—å—Å—è –≤ —Å—Ç–∞—Ç—É—Å "–û–Ω–ª–∞–π–Ω"
   - –ù–∞–¥—ñ—à–ª—ñ—Ç—å –≥–µ–æ–ª–æ–∫–∞—Ü—ñ—é
   - –ü—Ä–∏–π–º–∞–π—Ç–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è!

### –ö–æ–º–∞–Ω–¥–∏ –≤–æ–¥—ñ—è:
- `/driver` - –ü–∞–Ω–µ–ª—å –≤–æ–¥—ñ—è
- `/my_rating` - –í–∞—à —Ä–µ–π—Ç–∏–Ω–≥
- `/my_driver_status` - –°—Ç–∞—Ç—É—Å –∑–∞—è–≤–∫–∏

### –î–ª—è –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞:

- `/admin` - –ê–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å
- üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ - –ó–∞–≥–∞–ª—å–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º–∏
- üë• –ú–æ–¥–µ—Ä–∞—Ü—ñ—è –≤–æ–¥—ñ—ó–≤ - –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è/–≤—ñ–¥—Ö–∏–ª–µ–Ω–Ω—è –∑–∞—è–≤–æ–∫
- üí∞ –¢–∞—Ä–∏—Ñ–∏ - –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ü—ñ–Ω
- üìã –ó–∞–º–æ–≤–ª–µ–Ω–Ω—è - –ü–µ—Ä–µ–≥–ª—è–¥ –æ—Å—Ç–∞–Ω–Ω—ñ—Ö –∑–∞–º–æ–≤–ª–µ–Ω—å
- üì¢ –†–æ–∑—Å–∏–ª–∫–∞ - –ù–∞–¥—ñ—Å–ª–∞—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤—Å—ñ–º –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º

## üí∞ –°–∏—Å—Ç–µ–º–∞ –∫–æ–º—ñ—Å—ñ—ó

- –ö–æ–º—ñ—Å—ñ—è —Å—Ç–∞–Ω–æ–≤–∏—Ç—å **2%** –≤—ñ–¥ –≤–∞—Ä—Ç–æ—Å—Ç—ñ –ø–æ—ó–∑–¥–∫–∏
- –í–æ–¥—ñ–π –±–∞—á–∏—Ç—å —Å–≤—ñ–π –∑–∞—Ä–æ–±—ñ—Ç–æ–∫ —Ç–∞ –∫–æ–º—ñ—Å—ñ—é –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ
- –©–æ–¥–Ω—è –æ **20:00** –≤–æ–¥—ñ—ó –æ—Ç—Ä–∏–º—É—é—Ç—å –Ω–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è –ø—Ä–æ –Ω–µ—Å–ø–ª–∞—á–µ–Ω—É –∫–æ–º—ñ—Å—ñ—é
- –†–µ–∫–≤—ñ–∑–∏—Ç–∏ –¥–ª—è –ø–µ—Ä–µ–∫–∞–∑—É: `4149 4999 0123 4567`
- –ü—ñ—Å–ª—è –ø–µ—Ä–µ–∫–∞–∑—É –≤–æ–¥—ñ–π –≤—ñ–¥–º—ñ—á–∞—î –∫–æ–º—ñ—Å—ñ—é —è–∫ —Å–ø–ª–∞—á–µ–Ω—É —á–µ—Ä–µ–∑ –±–æ—Ç–∞

## üó∫Ô∏è –ì–µ–æ–ª–æ–∫–∞—Ü—ñ—è

–ë–æ—Ç –ø—ñ–¥—Ç—Ä–∏–º—É—î:
- üìç –û—Ç—Ä–∏–º–∞–Ω–Ω—è –≥–µ–æ–ª–æ–∫–∞—Ü—ñ—ó –≤—ñ–¥ –∫–ª—ñ—î–Ω—Ç–∞ —Ç–∞ –≤–æ–¥—ñ—è
- üìè –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –≤—ñ–¥—Å—Ç–∞–Ω—ñ —á–µ—Ä–µ–∑ Google Distance Matrix API
- ‚è± –û—Ü—ñ–Ω–∫–∞ —á–∞—Å—É –ø–æ—ó–∑–¥–∫–∏
- üíµ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π —Ä–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –≤–∞—Ä—Ç–æ—Å—Ç—ñ

## üí≥ –°–∏—Å—Ç–µ–º–∞ —Ç–∞—Ä–∏—Ñ—ñ–≤

–ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä –º–æ–∂–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏:
- **–ë–∞–∑–æ–≤–∞ —Ü—ñ–Ω–∞** - —Ñ—ñ–∫—Å–æ–≤–∞–Ω–∞ –ø–ª–∞—Ç–∞ –∑–∞ –ø–æ—ó–∑–¥–∫—É
- **–¶—ñ–Ω–∞ –∑–∞ –∫–º** - –≤–∞—Ä—Ç—ñ—Å—Ç—å –∫–æ–∂–Ω–æ–≥–æ –∫—ñ–ª–æ–º–µ—Ç—Ä–∞
- **–¶—ñ–Ω–∞ –∑–∞ —Ö–≤–∏–ª–∏–Ω—É** - –≤–∞—Ä—Ç—ñ—Å—Ç—å —á–∞—Å—É –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è
- **–ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ —Å—É–º–∞** - –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ –≤–∞—Ä—Ç—ñ—Å—Ç—å –ø–æ—ó–∑–¥–∫–∏

**–§–æ—Ä–º—É–ª–∞ —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—É:**
```
–í–∞—Ä—Ç—ñ—Å—Ç—å = max(–ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ —Å—É–º–∞, –ë–∞–∑–æ–≤–∞ —Ü—ñ–Ω–∞ + (–∫–º √ó –¶—ñ–Ω–∞ –∑–∞ –∫–º) + (—Ö–≤ √ó –¶—ñ–Ω–∞ –∑–∞ —Ö–≤–∏–ª–∏–Ω—É))
```

## üéØ –°—Ç–∞—Ç—É—Å–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è

- `pending` ‚è≥ - –û—á—ñ–∫—É—î –æ–±—Ä–æ–±–∫–∏
- `offered` üì§ - –ó–∞–ø—Ä–æ–ø–æ–Ω–æ–≤–∞–Ω–æ –≤–æ–¥—ñ—é
- `accepted` ‚úÖ - –ü—Ä–∏–π–Ω—è—Ç–æ –≤–æ–¥—ñ—î–º
- `in_progress` üöó - –í –¥–æ—Ä–æ–∑—ñ
- `completed` ‚úîÔ∏è - –ó–∞–≤–µ—Ä—à–µ–Ω–æ
- `cancelled` ‚ùå - –°–∫–∞—Å–æ–≤–∞–Ω–æ

## üîê –ë–µ–∑–ø–µ–∫–∞

- –ù–æ–º–µ—Ä–∏ —Ç–µ–ª–µ—Ñ–æ–Ω—ñ–≤ –∫–ª—ñ—î–Ω—Ç—ñ–≤ –≤–∏–¥–Ω–æ –ª–∏—à–µ –≤–æ–¥—ñ—é –ø—ñ–¥ —á–∞—Å –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
- –ì–µ–æ–ª–æ–∫–∞—Ü—ñ—è –≤–æ–¥—ñ—è –≤–∏–¥–Ω–∞ –ª–∏—à–µ –ø—ñ–¥ —á–∞—Å –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
- –ü–ª–∞—Ç—ñ–∂–Ω—ñ –¥–∞–Ω—ñ –Ω–µ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ –±–æ—Ç—ñ
- –í—Å—ñ –¥—ñ—ó –ª–æ–≥—É—é—Ç—å—Å—è –¥–ª—è –∞—É–¥–∏—Ç—É

## üìä –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—å:
- `users` - –ó–∞—Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω—ñ –∫–ª—ñ—î–Ω—Ç–∏
- `drivers` - –í–æ–¥—ñ—ó —Ç–∞ —ó—Ö –∑–∞—è–≤–∫–∏
- `orders` - –ó–∞–º–æ–≤–ª–µ–Ω–Ω—è
- `tariffs` - –Ü—Å—Ç–æ—Ä—ñ—è —Ç–∞—Ä–∏—Ñ—ñ–≤
- `ratings` - –û—Ü—ñ–Ω–∫–∏ –≤–æ–¥—ñ—ó–≤
- `payments` - –ü–ª–∞—Ç–µ–∂—ñ —Ç–∞ –∫–æ–º—ñ—Å—ñ—ó

## üåê –î–µ–ø–ª–æ–π

### –í–∞—Ä—ñ–∞–Ω—Ç 1: Render.com (–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)

**–ù–∞–π–ø—Ä–æ—Å—Ç—ñ—à–∏–π —Å–ø–æ—Å—ñ–±:**

1. Push –∫–æ–¥ –Ω–∞ GitHub
2. Render.com ‚Üí "New +" ‚Üí "Blueprint"
3. –ü—ñ–¥–∫–ª—é—á—ñ—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
4. –î–æ–¥–∞–π—Ç–µ `BOT_TOKEN` —Ç–∞ (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ) `GOOGLE_MAPS_API_KEY`
5. Deploy!

**üìñ –î–µ—Ç–∞–ª—å–Ω–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è:** [DEPLOY.md](DEPLOY.md)

**–í–∞—Ä—Ç—ñ—Å—Ç—å:** $7/–º—ñ—Å—è—Ü—å (Starter Plan)

---

### –í–∞—Ä—ñ–∞–Ω—Ç 2: Docker

**–õ–æ–∫–∞–ª—å–Ω–æ –∞–±–æ –Ω–∞ VPS:**

```bash
# –°—Ç–≤–æ—Ä—ñ—Ç—å .env —Ñ–∞–π–ª
cp .env.example .env
nano .env  # –î–æ–¥–∞–π—Ç–µ BOT_TOKEN

# –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose
docker-compose up -d

# –ü–µ—Ä–µ–≥–ª—è–¥ –ª–æ–≥—ñ–≤
docker-compose logs -f

# –ó—É–ø–∏–Ω–∫–∞
docker-compose down
```

**–ê–±–æ —á–µ—Ä–µ–∑ Docker:**

```bash
docker build -t telegram-taxi-bot .
docker run -d --name taxi-bot --env-file .env -v $(pwd)/data:/app/data telegram-taxi-bot
```

---

### –í–∞—Ä—ñ–∞–Ω—Ç 3: VPS (Ubuntu/Debian)

```bash
# –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å Python 3.11
sudo apt update
sudo apt install python3.11 python3.11-venv python3-pip

# –ö–ª–æ–Ω—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
git clone <repo-url>
cd telegram-taxi-bot

# –°—Ç–≤–æ—Ä—ñ—Ç—å –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ
python3.11 -m venv venv
source venv/bin/activate

# –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
pip install -r requirements.txt

# –ù–∞–ª–∞—à—Ç—É–π—Ç–µ .env
cp .env.example .env
nano .env

# –ó–∞–ø—É—Å—Ç—ñ—Ç—å —á–µ—Ä–µ–∑ systemd –∞–±–æ screen
python3 -m app.main
```

**–î–ª—è –ø–æ—Å—Ç—ñ–π–Ω–æ—ó —Ä–æ–±–æ—Ç–∏ —Å—Ç–≤–æ—Ä—ñ—Ç—å systemd service:**

```ini
# /etc/systemd/system/telegram-taxi-bot.service
[Unit]
Description=Telegram Taxi Bot
After=network.target

[Service]
Type=simple
User=ubuntu
WorkingDirectory=/home/ubuntu/telegram-taxi-bot
Environment="PATH=/home/ubuntu/telegram-taxi-bot/venv/bin"
ExecStart=/home/ubuntu/telegram-taxi-bot/venv/bin/python -m app.main
Restart=always

[Install]
WantedBy=multi-user.target
```

```bash
sudo systemctl enable telegram-taxi-bot
sudo systemctl start telegram-taxi-bot
sudo systemctl status telegram-taxi-bot
```

## üõ†Ô∏è –†–æ–∑—Ä–æ–±–∫–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É:

```
telegram-taxi-bot/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ config.py          # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
‚îÇ   ‚îú‚îÄ‚îÄ handlers/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ start.py           # –ì–æ–ª–æ–≤–Ω–µ –º–µ–Ω—é, —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ client.py          # –ú–µ–Ω—é –∫–ª—ñ—î–Ω—Ç–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ order.py           # –ó–∞–º–æ–≤–ª–µ–Ω–Ω—è —Ç–∞–∫—Å—ñ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ driver.py          # –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –≤–æ–¥—ñ—ó–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ driver_panel.py    # –ü–∞–Ω–µ–ª—å –≤–æ–¥—ñ—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ admin.py           # –ê–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ratings.py         # –°–∏—Å—Ç–µ–º–∞ —Ä–µ–π—Ç–∏–Ω–≥—ñ–≤
‚îÇ   ‚îú‚îÄ‚îÄ storage/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ db.py              # –†–æ–±–æ—Ç–∞ –∑ –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ matching.py        # –ü—ñ–¥–±—ñ—Ä –≤–æ–¥—ñ—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ maps.py            # Google Maps API
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ scheduler.py       # –ü–ª–∞–Ω—É–≤–∞–ª—å–Ω–∏–∫ –∑–∞–≤–¥–∞–Ω—å
‚îÇ   ‚îî‚îÄ‚îÄ main.py                # –¢–æ—á–∫–∞ –≤—Ö–æ–¥—É
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îî‚îÄ‚îÄ taxi.sqlite3           # –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö
‚îú‚îÄ‚îÄ .env                       # –ó–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
‚îú‚îÄ‚îÄ requirements.txt           # –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
‚îî‚îÄ‚îÄ README.md                  # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
```

## üìù –î–æ–¥–∞—Ç–∫–æ–≤–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è

### –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

1. –°—Ç–≤–æ—Ä—ñ—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∫–ª—ñ—î–Ω—Ç–∞ —Ç–∞ –∑–∞—Ä–µ—î—Å—Ç—Ä—É–π—Ç–µ—Å—å
2. –°—Ç–≤–æ—Ä—ñ—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –≤–æ–¥—ñ—è (–∑ —ñ–Ω—à–æ–≥–æ –∞–∫–∞—É–Ω—Ç–∞) —Ç–∞ –∑–∞—Ä–µ—î—Å—Ç—Ä—É–π—Ç–µ—Å—å
3. –ü—ñ–¥—Ç–≤–µ—Ä–¥—ñ—Ç—å –≤–æ–¥—ñ—è —á–µ—Ä–µ–∑ –∞–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å
4. –í–æ–¥—ñ–π: –ø–µ—Ä–µ–π–¥—ñ—Ç—å –≤ –æ–Ω–ª–∞–π–Ω —Ç–∞ –Ω–∞–¥—ñ—à–ª—ñ—Ç—å –≥–µ–æ–ª–æ–∫–∞—Ü—ñ—é
5. –ö–ª—ñ—î–Ω—Ç: –∑–∞–º–æ–≤—Ç–µ —Ç–∞–∫—Å—ñ –∑ –≥–µ–æ–ª–æ–∫–∞—Ü—ñ—î—é
6. –í–æ–¥—ñ–π: –ø—Ä–∏–π–º—ñ—Ç—å –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
7. –ü—Ä–æ–π–¥—ñ—Ç—å –≤–µ—Å—å —Ü–∏–∫–ª –ø–æ—ó–∑–¥–∫–∏

### –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ:

- –ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å –Ω–∞–π–±–ª–∏–∂—á–æ–≥–æ –æ–Ω–ª–∞–π–Ω-–≤–æ–¥—ñ—è
- –Ø–∫—â–æ –≤–æ–¥—ñ–π –≤—ñ–¥—Ö–∏–ª–∏—Ç—å –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è, –≤–æ–Ω–æ –º–∞—î –±—É—Ç–∏ –∑–∞–ø—Ä–æ–ø–æ–Ω–æ–≤–∞–Ω–æ –Ω–∞—Å—Ç—É–ø–Ω–æ–º—É (TODO)
- –ù–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è –ø—Ä–æ –∫–æ–º—ñ—Å—ñ—é –ø—Ä–∏—Ö–æ–¥—è—Ç—å —â–æ–¥–Ω—è –æ 20:00 (UTC)
- –°—Ç–∞—Ç–∏—á–Ω–∞ –∫–∞—Ä—Ç–∞ –º–∞—Ä—à—Ä—É—Ç—É –º–æ–∂–µ –±—É—Ç–∏ –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–∞ —á–µ—Ä–µ–∑ Google Static Maps API

## üêõ –í—ñ–¥–æ–º—ñ –æ–±–º–µ–∂–µ–Ω–Ω—è

- –ü–æ—à—É–∫ –≤–æ–¥—ñ—è: —è–∫—â–æ –≤–æ–¥—ñ–π –≤—ñ–¥—Ö–∏–ª–∏—Ç—å, —Ç—Ä–µ–±–∞ –∑–∞–ø—Ä–æ–ø–æ–Ω—É–≤–∞—Ç–∏ –Ω–∞—Å—Ç—É–ø–Ω–æ–º—É
- –ü–ª–∞—Ç–µ–∂—ñ: –ø–æ–∫–∏ —â–æ —Ç—ñ–ª—å–∫–∏ –≥–æ—Ç—ñ–≤–∫–∞/–∫–∞—Ä—Ç–∫–∞ (—ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ –ø–ª–∞—Ç—ñ–∂–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ - TODO)
- –ß–∞—Ç –º—ñ–∂ –∫–ª—ñ—î–Ω—Ç–æ–º —ñ –≤–æ–¥—ñ—î–º - TODO
- –í–µ–±-–∞–¥–º—ñ–Ω–∫–∞ - TODO

## üìÑ –õ—ñ—Ü–µ–Ω–∑—ñ—è

MIT License

## üë®‚Äçüíª –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

–ó –ø–∏—Ç–∞–Ω—å —Ç–∞ –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ–π –∑–≤–µ—Ä—Ç–∞–π—Ç–µ—Å—å –¥–æ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞.

---

**–£—Å–ø—ñ—à–Ω–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è! üöñüí®**
