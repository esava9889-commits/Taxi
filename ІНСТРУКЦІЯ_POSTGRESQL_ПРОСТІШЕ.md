# üéØ –ù–ê–ô–ü–†–û–°–¢–Ü–®–ï –†–Ü–®–ï–ù–ù–Ø: PostgreSQL –¥–ª—è Taxi Bot

## ‚úÖ –©–û –Ø –ó–†–û–ë–ò–í:

–î–æ–¥–∞–≤ –ø—ñ–¥—Ç—Ä–∏–º–∫—É PostgreSQL –ë–ï–ó –∑–º—ñ–Ω–∏ —ñ—Å–Ω—É—é—á–æ–≥–æ –∫–æ–¥—É!

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é `databases` library - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π –¥–ª—è async Python.

---

## üöÄ –©–û –¢–û–ë–Ü –¢–†–ï–ë–ê –ó–†–û–ë–ò–¢–ò (5 –•–í–ò–õ–ò–ù):

### 1Ô∏è‚É£ –°–¢–í–û–†–ò PostgreSQL –ù–ê RENDER:

```
1. https://dashboard.render.com
2. New + ‚Üí PostgreSQL
3. Name: taxi-bot-db
4. Region: Frankfurt
5. Instance Type: FREE
6. Create Database
```

‚è≥ –ü–æ—á–µ–∫–∞–π 2 —Ö–≤–∏–ª–∏–Ω–∏...

---

### 2Ô∏è‚É£ –°–ö–û–ü–Ü–Æ–ô Internal Database URL:

–ü—ñ—Å–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ë–î:

```
Connections ‚Üí Internal Database URL ‚Üí Copy üìã
```

–ü—Ä–∏–∫–ª–∞–¥:
```
postgres://taxi_bot_user:abc123@dpg-xyz456/taxi_bot
```

---

### 3Ô∏è‚É£ –î–û–î–ê–ô –î–û –ë–û–¢–ê:

```
1. –¢–≤—ñ–π –±–æ—Ç-—Å–µ—Ä–≤—ñ—Å ‚Üí Environment
2. –ó–Ω–∞–π–¥–∏ DATABASE_URL
3. Paste URL
4. Save Changes
```

Render –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞!

---

### 4Ô∏è‚É£ –ü–ï–†–ï–í–Ü–† –õ–û–ì–ò:

–®—É–∫–∞–π –≤ –ª–æ–≥–∞—Ö:

```
üêò –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è PostgreSQL...
‚úÖ –í—Å—ñ —Ç–∞–±–ª–∏—Ü—ñ PostgreSQL —Å—Ç–≤–æ—Ä–µ–Ω–æ!
```

‚úÖ –Ø–∫—â–æ –±–∞—á–∏—à - **–ü–†–ê–¶–Æ–Ñ!**

---

## üéâ –ì–û–¢–û–í–û!

–î–∞–Ω—ñ –±—ñ–ª—å—à–µ –ù–ï –∑–Ω–∏–∫–∞—é—Ç—å! ‚ú®

---

## üìä –¢–ï–•–ù–Ü–ß–ù–Ü –î–ï–¢–ê–õ–Ü:

### –©–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è:

- **databases** library (–ø—ñ–¥—Ç—Ä–∏–º—É—î SQLite + PostgreSQL)
- **asyncpg** (PostgreSQL –¥—Ä–∞–π–≤–µ—Ä)
- **aiosqlite** (SQLite –¥—Ä–∞–π–≤–µ—Ä)

### –Ø–∫ –ø—Ä–∞—Ü—é—î –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –≤–∏–±—ñ—Ä:

```python
if DATABASE_URL:
    database = databases.Database(DATABASE_URL)  # PostgreSQL
else:
    database = databases.Database(f"sqlite:///{db_path}")  # SQLite
```

–ü—Ä–æ—Å—Ç–æ —ñ –Ω–∞–¥—ñ–π–Ω–æ! ‚úÖ

---

## üíæ –õ–û–ö–ê–õ–¨–ù–ê –†–û–ó–†–û–ë–ö–ê:

–ë–µ–∑ DATABASE_URL ‚Üí SQLite (—è–∫ –∑–∞—Ä–∞–∑)
```bash
python -m app.main
# üìÅ –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é SQLite: data/taxi.sqlite3
```

–ó DATABASE_URL ‚Üí PostgreSQL
```bash
export DATABASE_URL="postgresql://..."
python -m app.main
# üêò –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é PostgreSQL
```

---

## ‚ùì FAQ:

**Q: –ß–∏ –≤—Ç—Ä–∞—á—É —è —ñ—Å–Ω—É—é—á—ñ –¥–∞–Ω—ñ?**
A: –ù—ñ! SQLite –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è —è–∫ fallback.

**Q: –©–æ —è–∫—â–æ —â–æ—Å—å –∑–ª–∞–º–∞—î—Ç—å—Å—è?**
A: –ü—Ä–æ—Å—Ç–æ –≤–∏–¥–∞–ª–∏ DATABASE_URL - –±–æ—Ç –ø–æ–≤–µ—Ä–Ω–µ—Ç—å—Å—è –Ω–∞ SQLite.

**Q: –°–∫—ñ–ª—å–∫–∏ –∫–æ—à—Ç—É—î?**
A: FREE (256 MB, –¥–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–ª—è 10,000+ –∑–∞–º–æ–≤–ª–µ–Ω—å)

**Q: –ö–æ–ª–∏ –ë–î –≤–∏–¥–∞–ª–∏—Ç—å—Å—è?**
A: –ß–µ—Ä–µ–∑ 90 –¥–Ω—ñ–≤ –ë–ï–ó –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ. –ü—Ä–æ—Å—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π –±–æ—Ç–∞!

---

## üöÄ –í–°–ï! –¶–ï –í–°–ï –©–û –¢–†–ï–ë–ê –ó–ù–ê–¢–ò!

–°—Ç–≤–æ—Ä–∏ –ë–î ‚Üí –°–∫–æ–ø—ñ—é–π URL ‚Üí –î–æ–¥–∞–π ‚Üí –ì–æ—Ç–æ–≤–æ! üéâ

