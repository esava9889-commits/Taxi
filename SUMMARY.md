# üìã –ü—ñ–¥—Å—É–º–∫–æ–≤–∏–π –∑–≤—ñ—Ç - Telegram Taxi Bot

## ‚úÖ –í–∏–∫–æ–Ω–∞–Ω–æ

–°—Ç–≤–æ—Ä–µ–Ω–æ **–ø–æ–≤–Ω–æ—Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π Telegram –±–æ—Ç –¥–ª—è —Ç–∞–∫—Å—ñ-—Å–µ—Ä–≤—ñ—Å—É** –∑ —É—Å—ñ–º–∞ –∑–∞–∑–Ω–∞—á–µ–Ω–∏–º–∏ –≤–∏–º–æ–≥–∞–º–∏.

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É

```
telegram-taxi-bot/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ config.py                 # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –∑ .env
‚îÇ   ‚îú‚îÄ‚îÄ handlers/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ start.py                  # –ì–æ–ª–æ–≤–Ω–µ –º–µ–Ω—é, —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –∫–ª—ñ—î–Ω—Ç—ñ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ client.py                 # –ü–∞–Ω–µ–ª—å –∫–ª—ñ—î–Ω—Ç–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ order.py                  # –ó–∞–º–æ–≤–ª–µ–Ω–Ω—è —Ç–∞–∫—Å—ñ + –ø–æ—à—É–∫ –≤–æ–¥—ñ—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ driver.py                 # –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –≤–æ–¥—ñ—ó–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ driver_panel.py           # –ü–∞–Ω–µ–ª—å –≤–æ–¥—ñ—è (–æ–Ω–ª–∞–π–Ω, –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è, –∑–∞—Ä–æ–±—ñ—Ç–æ–∫)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ admin.py                  # –ê–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å (ID: 6828579427)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ratings.py                # –°–∏—Å—Ç–µ–º–∞ –æ—Ü—ñ–Ω–æ–∫
‚îÇ   ‚îú‚îÄ‚îÄ storage/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ db.py                     # SQLite –ë–î –∑ —É—Å—ñ–º–∞ –º–æ–¥–µ–ª—è–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ matching.py               # –ü—ñ–¥–±—ñ—Ä –Ω–∞–π–±–ª–∏–∂—á–æ–≥–æ –≤–æ–¥—ñ—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ maps.py                   # Google Maps API
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ scheduler.py              # –ù–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è –æ 20:00
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îî‚îÄ‚îÄ main.py                       # –¢–æ—á–∫–∞ –≤—Ö–æ–¥—É
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îî‚îÄ‚îÄ taxi.sqlite3                  # –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö (—Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ)
‚îú‚îÄ‚îÄ .env.example                      # –®–∞–±–ª–æ–Ω –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
‚îú‚îÄ‚îÄ requirements.txt                  # –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ Python
‚îú‚îÄ‚îÄ render.yaml                       # –ö–æ–Ω—Ñ—ñ–≥ –¥–ª—è –¥–µ–ø–ª–æ—é
‚îú‚îÄ‚îÄ README.md                         # –ü–æ–≤–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
‚îú‚îÄ‚îÄ QUICKSTART.md                     # –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç
‚îú‚îÄ‚îÄ TESTING.md                        # –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –∑ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
‚îú‚îÄ‚îÄ CHANGELOG.md                      # –°–ø–∏—Å–æ–∫ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π
‚îú‚îÄ‚îÄ COMMANDS.md                       # –î–æ–≤—ñ–¥–Ω–∏–∫ –∫–æ–º–∞–Ω–¥ —ñ API
‚îî‚îÄ‚îÄ SUMMARY.md                        # –¶–µ–π —Ñ–∞–π–ª
```

---

## üéØ –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ –≤–∏–º–æ–≥–∏

### ‚úÖ 1. –ó–∞–≥–∞–ª—å–Ω–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞
- ‚úÖ –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞: Telegram Bot API (aiogram 3.12.0)
- ‚úÖ –ë–µ–∫–µ–Ω–¥: Python –∑ async/await
- ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö: SQLite (–≥–æ—Ç–æ–≤–æ –¥–æ –º—ñ–≥—Ä–∞—Ü—ñ—ó –Ω–∞ PostgreSQL)
- ‚úÖ –ì–µ–æ–ª–æ–∫–∞—Ü—ñ—è: Google Maps Platform (Distance Matrix, Geocoding, Static Maps)
- ‚úÖ –ü–ª–∞—Ç—ñ–∂–Ω–∞ —Å–∏—Å—Ç–µ–º–∞: –ì–æ—Ç—ñ–≤–∫–∞/–∫–∞—Ä—Ç–∫–∞ –∑ —É—Ç—Ä–∏–º–∞–Ω–Ω—è–º –∫–æ–º—ñ—Å—ñ—ó 2%

### ‚úÖ 2. –¢–∏–ø–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
1. ‚úÖ **–ö–ª—ñ—î–Ω—Ç** - –∑–∞–º–æ–≤–ª—è—î –ø–æ—ó–∑–¥–∫–∏
2. ‚úÖ **–í–æ–¥—ñ–π** - –ø—Ä–∏–π–º–∞—î/–≤—ñ–¥—Ö–∏–ª—è—î –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è, —Å—Ç–∞—Ç—É—Å–∏ –æ–Ω–ª–∞–π–Ω/–æ—Ñ–ª–∞–π–Ω/–≤ –¥–æ—Ä–æ–∑—ñ
3. ‚úÖ **–ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä** (ID: 6828579427) - –ø–æ–≤–Ω–∞ –∞–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å –≤ Telegram

### ‚úÖ 3. –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è —Ç–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è

#### –ö–ª—ñ—î–Ω—Ç:
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—è —á–µ—Ä–µ–∑ Telegram
- ‚úÖ –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω—É (contact –∞–±–æ –≤—Ä—É—á–Ω—É)
- ‚úÖ –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è: `user_id`, `phone`, `name`, `role`

#### –í–æ–¥—ñ–π:
- ‚úÖ –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è —á–µ—Ä–µ–∑ `/register_driver`
- ‚úÖ –ü–æ–ª—è: –ü–Ü–ë, —Ç–µ–ª–µ—Ñ–æ–Ω, –º–∞—Ä–∫–∞/–º–æ–¥–µ–ª—å –∞–≤—Ç–æ, –Ω–æ–º–µ—Ä –∞–≤—Ç–æ, —Ñ–æ—Ç–æ –ø–æ—Å–≤—ñ–¥—á–µ–Ω–Ω—è
- ‚úÖ –°—Ç–∞—Ç—É—Å: pending ‚Üí approved/rejected (–∑ –º–æ–¥–µ—Ä–∞—Ü—ñ—î—é)
- ‚úÖ **–ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è user_id –∫–ª—ñ—î–Ω—Ç–∞ —ñ –≤–æ–¥—ñ—è –ø—ñ–¥ —á–∞—Å –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è**
- ‚úÖ **–ó–º—ñ–Ω–∞ —Å—Ç–∞—Ç—É—Å—É –≤–æ–¥—ñ—è –Ω–∞ "–í –¥–æ—Ä–æ–∑—ñ" –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è**

### ‚úÖ 4. –ì–µ–æ–ª–æ–∫–∞—Ü—ñ—è —Ç–∞ –∫–∞—Ä—Ç–∏
- ‚úÖ –ö–ª—ñ—î–Ω—Ç –Ω–∞–¥—Å–∏–ª–∞—î –≥–µ–æ–ª–æ–∫–∞—Ü—ñ—é
- ‚úÖ –í–æ–¥—ñ–π –Ω–∞–¥—Å–∏–ª–∞—î –≥–µ–æ–ª–æ–∫–∞—Ü—ñ—é
- ‚úÖ –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –≤—ñ–¥—Å—Ç–∞–Ω—ñ —Ç–∞ —á–∞—Å—É —á–µ—Ä–µ–∑ Google Distance Matrix API
- ‚úÖ –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ —Å—Ç–∞—Ç–∏—á–Ω–∏—Ö –∫–∞—Ä—Ç (Google Static Maps API)
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –ø–æ—à—É–∫ –Ω–∞–π–±–ª–∏–∂—á–æ–≥–æ –≤–æ–¥—ñ—è** (—Ñ–æ—Ä–º—É–ª–∞ Haversine)

### ‚úÖ 5. –û—Å–Ω–æ–≤–Ω–∏–π —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è —Ç–∞–∫—Å—ñ

#### –î–ª—è –∫–ª—ñ—î–Ω—Ç–∞:
1. ‚úÖ –ö–Ω–æ–ø–∫–∞ "–ó–∞–º–æ–≤–∏—Ç–∏ —Ç–∞–∫—Å—ñ" –∞–±–æ `/order`
2. ‚úÖ –ù–∞–¥—Å–∏–ª–∞–Ω–Ω—è –≥–µ–æ–ª–æ–∫–∞—Ü—ñ—ó –ø–æ—á–∞—Ç–∫—É/–ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è
3. ‚úÖ –í–≤–µ–¥–µ–Ω–Ω—è –∞–¥—Ä–µ—Å–∏ –∞–±–æ –≥–µ–æ–ª–æ–∫–∞—Ü—ñ—è
4. ‚úÖ –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –≤—ñ–¥—Å—Ç–∞–Ω—ñ, —á–∞—Å—É, –≤–∞—Ä—Ç–æ—Å—Ç—ñ
5. ‚úÖ –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
6. ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –ø–æ—à—É–∫ –æ–Ω–ª–∞–π–Ω-–≤–æ–¥—ñ—è**
7. ‚úÖ –í–æ–¥—ñ–π –ø—Ä–∏–π–º–∞—î/–≤—ñ–¥—Ö–∏–ª—è—î
8. ‚úÖ –û—Ç—Ä–∏–º–∞–Ω–Ω—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ –≤–æ–¥—ñ—è (—ñ–º'—è, –∞–≤—Ç–æ, –Ω–æ–º–µ—Ä, —Ñ–æ—Ç–æ)
9. ‚úÖ –°–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø—Ä–æ —Å—Ç–∞—Ç—É—Å
10. ‚úÖ –û–ø–ª–∞—Ç–∞ –ø—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è
11. ‚úÖ –û—Ü—ñ–Ω–∫–∞ –≤–æ–¥—ñ—è (1-5 –∑—ñ—Ä–æ–∫)

#### –î–ª—è –≤–æ–¥—ñ—è:
- ‚úÖ –ü–∞–Ω–µ–ª—å `/driver`
- ‚úÖ –û–Ω–ª–∞–π–Ω/–û—Ñ–ª–∞–π–Ω/–í –¥–æ—Ä–æ–∑—ñ
- ‚úÖ –û–Ω–æ–≤–ª–µ–Ω–Ω—è –≥–µ–æ–ª–æ–∫–∞—Ü—ñ—ó
- ‚úÖ –û—Ç—Ä–∏–º–∞–Ω–Ω—è —Å–ø–æ–≤—ñ—â–µ–Ω—å –ø—Ä–æ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
- ‚úÖ –ü—Ä–∏–π–Ω—è—Ç—Ç—è/–≤—ñ–¥—Ö–∏–ª–µ–Ω–Ω—è
- ‚úÖ –ü–æ—á–∞—Ç–æ–∫/–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –ø–æ—ó–∑–¥–∫–∏
- ‚úÖ **user_id –∫–ª—ñ—î–Ω—Ç–∞ –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—ñ**
- ‚úÖ **–°—Ç–∞—Ç—É—Å "–í –¥–æ—Ä–æ–∑—ñ" –ø—ñ–¥ —á–∞—Å –ø–æ—ó–∑–¥–∫–∏**

### ‚úÖ 6. –ü–ª–∞—Ç—ñ–∂–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ —Ç–∞ –∫–æ–º—ñ—Å—ñ—è
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —É—Ç—Ä–∏–º–∞–Ω–Ω—è 2% –∫–æ–º—ñ—Å—ñ—ó**
- ‚úÖ **–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∑–∞—Ä–æ–±—ñ—Ç–∫—É –≤–æ–¥—ñ—ó–≤**:
  - –ó–∞—Ä–æ–±—ñ—Ç–æ–∫ —Å—å–æ–≥–æ–¥–Ω—ñ
  - –ö–æ–º—ñ—Å—ñ—è —Å—å–æ–≥–æ–¥–Ω—ñ
  - –ß–∏—Å—Ç–∏–π –∑–∞—Ä–æ–±—ñ—Ç–æ–∫
- ‚úÖ **–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∫–æ–º—ñ—Å—ñ—ó –∑ –Ω–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è–º –æ 20:00**:
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ SMS-–ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
  - –†–µ–∫–≤—ñ–∑–∏—Ç–∏ –∫–∞—Ä—Ç–∫–∏: `4149 4999 0123 4567`
  - –ö–Ω–æ–ø–∫–∞ "‚úÖ –Ø —Å–ø–ª–∞—Ç–∏–≤ –∫–æ–º—ñ—Å—ñ—é"
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —á–µ–∫—ñ–≤ (—Ç–µ–∫—Å—Ç)
- ‚úÖ –ó–∞–ø–∏—Å —É –ë–î: `order_id`, `client_id`, `driver_id`, `amount`, `commission`, `status`

### ‚úÖ 7. –ê–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å (Telegram, ID: 6828579427)

#### –§—É–Ω–∫—Ü—ñ—ó:
- ‚úÖ `/admin` - –ì–æ–ª–æ–≤–Ω–∞ –ø–∞–Ω–µ–ª—å
- ‚úÖ **üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:**
  - –í—Å—å–æ–≥–æ –∑–∞–º–æ–≤–ª–µ–Ω—å
  - –í–∏–∫–æ–Ω–∞–Ω–æ
  - –ê–∫—Ç–∏–≤–Ω–∏—Ö –≤–æ–¥—ñ—ó–≤
  - –ù–∞ –º–æ–¥–µ—Ä–∞—Ü—ñ—ó
  - –ó–∞–≥–∞–ª—å–Ω–∏–π –¥–æ—Ö—ñ–¥
  - –ó–∞–≥–∞–ª—å–Ω–∞ –∫–æ–º—ñ—Å—ñ—è
  - –ù–µ—Å–ø–ª–∞—á–µ–Ω–∞ –∫–æ–º—ñ—Å—ñ—è
- ‚úÖ **üë• –ú–æ–¥–µ—Ä–∞—Ü—ñ—è –≤–æ–¥—ñ—ó–≤:**
  - –ü–µ—Ä–µ–≥–ª—è–¥ –∑–∞—è–≤–æ–∫
  - –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è/–≤—ñ–¥—Ö–∏–ª–µ–Ω–Ω—è (inline-–∫–Ω–æ–ø–∫–∏)
  - –ü–µ—Ä–µ–≥–ª—è–¥ —Ñ–æ—Ç–æ –ø–æ—Å–≤—ñ–¥—á–µ–Ω–Ω—è
- ‚úÖ **üí∞ –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ç–∞—Ä–∏—Ñ—ñ–≤:**
  - –ë–∞–∑–æ–≤–∞ —Ü—ñ–Ω–∞
  - –¶—ñ–Ω–∞ –∑–∞ –∫–º
  - –¶—ñ–Ω–∞ –∑–∞ —Ö–≤–∏–ª–∏–Ω—É –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è
  - –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ —Å—É–º–∞
- ‚úÖ **üìã –ü–µ—Ä–µ–≥–ª—è–¥ –∑–∞–º–æ–≤–ª–µ–Ω—å:**
  - –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –ø–æ –¥–∞—Ç—ñ
  - –°—Ç–∞—Ç—É—Å
  - –ö–ª—ñ—î–Ω—Ç
  - –í–æ–¥—ñ–π
- ‚úÖ **üì¢ –ì–ª–æ–±–∞–ª—å–Ω–∞ —Ä–æ–∑—Å–∏–ª–∫–∞** –≤—Å—ñ–º –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º
- ‚úÖ **üíµ –ü–µ—Ä–µ–≥–ª—è–¥ —Ñ—ñ–Ω–∞–Ω—Å—ñ–≤**

### ‚úÖ 8. –î–æ–¥–∞—Ç–∫–æ–≤—ñ —Ñ—É–Ω–∫—Ü—ñ—ó

- ‚úÖ **üìú –Ü—Å—Ç–æ—Ä—ñ—è –ø–æ—ó–∑–¥–æ–∫:**
  - –î–ª—è –∫–ª—ñ—î–Ω—Ç–∞ (–æ—Å—Ç–∞–Ω–Ω—ñ 10)
  - –î–ª—è –≤–æ–¥—ñ—è (–æ—Å—Ç–∞–Ω–Ω—ñ 10)
- ‚úÖ **‚≠êÔ∏è –°–∏—Å—Ç–µ–º–∞ –æ—Ü—ñ–Ω–æ–∫:**
  - –†–µ–π—Ç–∏–Ω–≥ 1-5 –∑—ñ—Ä–æ–∫
  - –°–µ—Ä–µ–¥–Ω—ñ–π —Ä–µ–π—Ç–∏–Ω–≥ –≤–æ–¥—ñ—è
  - –°–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø—Ä–æ –Ω–æ–≤—É –æ—Ü—ñ–Ω–∫—É
- ‚úÖ **–°—Ç–∞—Ç—É—Å –≤–æ–¥—ñ—è:**
  - üî¥ –û—Ñ–ª–∞–π–Ω
  - üü¢ –û–Ω–ª–∞–π–Ω
  - üöó –ó–∞–π–Ω—è—Ç–∏–π (–í –¥–æ—Ä–æ–∑—ñ)
- ‚úÖ **üîî –°–ø–æ–≤—ñ—â–µ–Ω–Ω—è:**
  - "–í–æ–¥—ñ–π –ø—Ä–∏–π–Ω—è–≤"
  - "–í–æ–¥—ñ–π –Ω–∞–±–ª–∏–∂–∞—î—Ç—å—Å—è"
  - "–ü–æ—ó–∑–¥–∫—É —Ä–æ–∑–ø–æ—á–∞—Ç–æ"
  - "–ü–æ—ó–∑–¥–∫—É –∑–∞–≤–µ—Ä—à–µ–Ω–æ"
  - "–ù–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è –ø—Ä–æ –∫–æ–º—ñ—Å—ñ—é"
- ‚úÖ **‚ÑπÔ∏è –ü—ñ–¥—Ç—Ä–∏–º–∫–∞:**
  - –ö–Ω–æ–ø–∫–∞ "–î–æ–ø–æ–º–æ–≥–∞"
  - –ö–æ–º–∞–Ω–¥–∞ `/help`

### ‚úÖ 9. –ë–µ–∑–ø–µ–∫–∞ —Ç–∞ –∫–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω—ñ—Å—Ç—å
- ‚úÖ –ù–æ–º–µ—Ä–∏ —Ç–µ–ª–µ—Ñ–æ–Ω—ñ–≤ –≤–∏–¥–Ω–æ –ª–∏—à–µ –ø—ñ–¥ —á–∞—Å –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
- ‚úÖ –ì–µ–æ–ª–æ–∫–∞—Ü—ñ—è –∫–ª—ñ—î–Ω—Ç–∞ –≤–∏–¥–∏–º–∞ –ª–∏—à–µ –≤–æ–¥—ñ—é
- ‚úÖ –ü–ª–∞—Ç—ñ–∂–Ω—ñ –¥–∞–Ω—ñ –ø–µ—Ä–µ–¥–∞—é—Ç—å—Å—è –±–µ–∑–ø–µ—á–Ω–æ (–∫–∞—Ä—Ç–∫–∞ –≤–ª–∞—Å–Ω–∏–∫–∞, –Ω–µ –∫–ª—ñ—î–Ω—Ç–∞)
- ‚úÖ –õ–æ–≥—É–≤–∞–Ω–Ω—è –≤—Å—ñ—Ö –¥—ñ–π

### ‚úÖ 10. –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö

–¢–∞–±–ª–∏—Ü—ñ:
- ‚úÖ `users` - –ö–ª—ñ—î–Ω—Ç–∏
- ‚úÖ `drivers` - –í–æ–¥—ñ—ó (–∑ –≥–µ–æ–ª–æ–∫–∞—Ü—ñ—î—é, —Å—Ç–∞—Ç—É—Å–æ–º –æ–Ω–ª–∞–π–Ω/–æ—Ñ–ª–∞–π–Ω)
- ‚úÖ `orders` - –ó–∞–º–æ–≤–ª–µ–Ω–Ω—è (–∑ user_id –∫–ª—ñ—î–Ω—Ç–∞ —ñ –≤–æ–¥—ñ—è, —Å—Ç–∞—Ç—É—Å–∞–º–∏)
- ‚úÖ `tariffs` - –¢–∞—Ä–∏—Ñ–∏ (–∑ –≤–µ—Ä—Å—ñ–æ–Ω—É–≤–∞–Ω–Ω—è–º)
- ‚úÖ `ratings` - –û—Ü—ñ–Ω–∫–∏
- ‚úÖ `payments` - –ü–ª–∞—Ç–µ–∂—ñ —Ç–∞ –∫–æ–º—ñ—Å—ñ—ó

---

## üì¶ –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–∞ –∑–∞–ø—É—Å–∫

### 1. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
```bash
cp .env.example .env
nano .env  # –î–æ–¥–∞–π—Ç–µ BOT_TOKEN —Ç–∞ GOOGLE_MAPS_API_KEY
```

### 2. –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
```bash
pip install -r requirements.txt
```

### 3. –ó–∞–ø—É—Å–∫
```bash
python3 -m app.main
```

### 4. –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è
–î–∏–≤—ñ—Ç—å—Å—è `TESTING.md` –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ—ó —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó.

---

## üöÄ –î–µ–ø–ª–æ–π

### Render.com
```bash
git push origin main
```
Render –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–¥–µ–ø–ª–æ—ó—Ç—å –∑ `render.yaml`

**–ó–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ –Ω–∞ Render:**
- `BOT_TOKEN` (–æ–±–æ–≤'—è–∑–∫–æ–≤–æ)
- `ADMIN_IDS=6828579427`
- `GOOGLE_MAPS_API_KEY` (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

1. **README.md** - –ü–æ–≤–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –ø—Ä–æ—î–∫—Ç—É
2. **QUICKSTART.md** - –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç –∑–∞ 5 —Ö–≤–∏–ª–∏–Ω
3. **TESTING.md** - –ü–æ–∫—Ä–æ–∫–æ–≤–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –≤—Å—ñ—Ö —Ñ—É–Ω–∫—Ü—ñ–π
4. **CHANGELOG.md** - –°–ø–∏—Å–æ–∫ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π
5. **COMMANDS.md** - –î–æ–≤—ñ–¥–Ω–∏–∫ –∫–æ–º–∞–Ω–¥ —Ç–∞ API
6. **SUMMARY.md** - –¶–µ–π –∑–≤—ñ—Ç

---

## üé® –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω—ñ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó

- **Python 3.10+**
- **aiogram 3.12.0** - Telegram Bot Framework
- **aiosqlite 0.19.0** - Async SQLite
- **aiohttp 3.10.10** - HTTP –∫–ª—ñ—î–Ω—Ç
- **python-dotenv 1.0.1** - –ó–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
- **apscheduler 3.10.4** - –ü–ª–∞–Ω—É–≤–∞–ª—å–Ω–∏–∫ –∑–∞–≤–¥–∞–Ω—å
- **Google Maps API** - –ì–µ–æ–ª–æ–∫–∞—Ü—ñ—è

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ–¥—É

### –§–∞–π–ª–∏:
- **18 Python –º–æ–¥—É–ª—ñ–≤**
- **7 –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ–π–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤**
- **6 —Ç–∞–±–ª–∏—Ü—å –±–∞–∑–∏ –¥–∞–Ω–∏—Ö**
- **15+ –∫–æ–º–∞–Ω–¥ –±–æ—Ç—É**
- **10+ callback actions**

### –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª:
- ‚úÖ **100% –≤–∏–º–æ–≥ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ**
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –ø—ñ–¥–±—ñ—Ä –≤–æ–¥—ñ—è
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –∫–æ–º—ñ—Å—ñ—ó –∑ –Ω–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è–º–∏
- ‚úÖ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∑–∞—Ä–æ–±—ñ—Ç–∫—É
- ‚úÖ –ü–æ–≤–Ω–∞ –∞–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å
- ‚úÖ –Ü—Å—Ç–æ—Ä—ñ—è —Ç–∞ —Ä–µ–π—Ç–∏–Ω–≥–∏
- ‚úÖ –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ Google Maps

---

## üîß –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó

### 1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –ø—ñ–¥–±—ñ—Ä –≤–æ–¥—ñ—è
```python
# utils/matching.py
async def find_nearest_driver(...)
    - –ü–æ—à—É–∫ –æ–Ω–ª–∞–π–Ω-–≤–æ–¥—ñ—ó–≤ –∑ –≥–µ–æ–ª–æ–∫–∞—Ü—ñ—î—é
    - –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –≤—ñ–¥—Å—Ç–∞–Ω—ñ (Haversine)
    - –í–∏–±—ñ—Ä –Ω–∞–π–±–ª–∏–∂—á–æ–≥–æ
```

### 2. –°–∏—Å—Ç–µ–º–∞ –∫–æ–º—ñ—Å—ñ—ó
```python
# utils/scheduler.py
async def commission_reminder_task(...)
    - –©–æ–¥–µ–Ω–Ω–µ –Ω–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è –æ 20:00 UTC
    - –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–µ—Å–ø–ª–∞—á–µ–Ω–æ—ó –∫–æ–º—ñ—Å—ñ—ó
    - –ù–∞–¥—Å–∏–ª–∞–Ω–Ω—è —Ä–µ–∫–≤—ñ–∑–∏—Ç—ñ–≤ –∫–∞—Ä—Ç–∫–∏
```

### 3. –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∑–∞—Ä–æ–±—ñ—Ç–∫—É
```python
# storage/db.py
async def get_driver_earnings_today(...)
    - –ó–∞—Ä–æ–±—ñ—Ç–æ–∫ –∑–∞ —Å—å–æ–≥–æ–¥–Ω—ñ
    - –ö–æ–º—ñ—Å—ñ—è –∑–∞ —Å—å–æ–≥–æ–¥–Ω—ñ
    - –ß–∏—Å—Ç–∏–π –∑–∞—Ä–æ–±—ñ—Ç–æ–∫
```

### 4. –†–æ–∑—É–º–Ω—ñ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è
- –í–æ–¥—ñ–π –ø—Ä–∏–π–Ω—è–≤ ‚Üí –∫–ª—ñ—î–Ω—Ç –æ—Ç—Ä–∏–º—É—î –¥–∞–Ω—ñ –≤–æ–¥—ñ—è
- –ü–æ—ó–∑–¥–∫—É —Ä–æ–∑–ø–æ—á–∞—Ç–æ ‚Üí –æ–±–∏–¥–≤–∞ –æ—Ç—Ä–∏–º—É—é—Ç—å –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è
- –ü–æ—ó–∑–¥–∫—É –∑–∞–≤–µ—Ä—à–µ–Ω–æ ‚Üí –∫–ª—ñ—î–Ω—Ç –º–æ–∂–µ –æ—Ü—ñ–Ω–∏—Ç–∏

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ—Å—Ç—ñ

- [x] –¢—Ä–∏ —Ç–∏–ø–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ (–∫–ª—ñ—î–Ω—Ç, –≤–æ–¥—ñ–π, –∞–¥–º—ñ–Ω)
- [x] –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –∑ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è–º —Ç–µ–ª–µ—Ñ–æ–Ω—É
- [x] –ú–æ–¥–µ—Ä–∞—Ü—ñ—è –≤–æ–¥—ñ—ó–≤
- [x] –ì–µ–æ–ª–æ–∫–∞—Ü—ñ—è —á–µ—Ä–µ–∑ Telegram
- [x] Google Maps API (—Ä–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –≤—ñ–¥—Å—Ç–∞–Ω—ñ/—á–∞—Å—É)
- [x] –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –ø–æ—à—É–∫ –≤–æ–¥—ñ—è
- [x] –°–∏—Å—Ç–µ–º–∞ –∫–æ–º—ñ—Å—ñ—ó 2%
- [x] –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∑–∞—Ä–æ–±—ñ—Ç–∫—É
- [x] –ù–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è –æ 20:00
- [x] –ê–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å (ID: 6828579427)
- [x] –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ç–∞—Ä–∏—Ñ—ñ–≤
- [x] –Ü—Å—Ç–æ—Ä—ñ—è –ø–æ—ó–∑–¥–æ–∫
- [x] –°–∏—Å—Ç–µ–º–∞ —Ä–µ–π—Ç–∏–Ω–≥—ñ–≤
- [x] –°–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø—Ä–æ —Å—Ç–∞—Ç—É—Å
- [x] –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è user_id –∫–ª—ñ—î–Ω—Ç–∞ —ñ –≤–æ–¥—ñ—è
- [x] –°—Ç–∞—Ç—É—Å "–í –¥–æ—Ä–æ–∑—ñ" –ø—ñ–¥ —á–∞—Å –ø–æ—ó–∑–¥–∫–∏
- [x] –†–æ–∑—Å–∏–ª–∫–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
- [x] –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–∞ —Ñ—ñ–Ω–∞–Ω—Å–∏
- [x] –ë–µ–∑–ø–µ–∫–∞ –¥–∞–Ω–∏—Ö

---

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

**–ü–æ–≤–Ω–æ—Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π Telegram –±–æ—Ç –¥–ª—è —Ç–∞–∫—Å—ñ**, —è–∫–∏–π:
- ‚úÖ –ü—Ä–∞—Ü—é—î —è–∫ –º—ñ–Ω—ñ-–∞–Ω–∞–ª–æ–≥ Uber/Bolt
- ‚úÖ –ú–∞—î –≤—Å—ñ –∑–∞–∑–Ω–∞—á–µ–Ω—ñ –≤–∏–º–æ–≥–∏
- ‚úÖ –ì–æ—Ç–æ–≤–∏–π –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
- ‚úÖ –õ–µ–≥–∫–æ –¥–µ–ø–ª–æ—ó—Ç—å—Å—è
- ‚úÖ –ü–æ–≤–Ω—ñ—Å—Ç—é –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–æ–≤–∞–Ω–∏–π

---

## üöÄ –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏

### –î–ª—è –∑–∞–ø—É—Å–∫—É –≤ –ø—Ä–æ–¥–∞–∫—à–Ω:
1. ‚úÖ –û—Ç—Ä–∏–º–∞—Ç–∏ BOT_TOKEN –≤—ñ–¥ @BotFather
2. ‚úÖ –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ Google Maps API
3. ‚úÖ –°—Ç–≤–æ—Ä–∏—Ç–∏ .env —Ñ–∞–π–ª
4. ‚úÖ –ó–∞–¥–µ–ø–ª–æ—ó—Ç–∏ –Ω–∞ Render/Heroku/VPS
5. ‚úÖ –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ —Ç–∞—Ä–∏—Ñ–∏ —á–µ—Ä–µ–∑ `/admin`
6. ‚úÖ –ü–æ—á–∞—Ç–∏ –ø—Ä–∏–π–º–∞—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è!

### –û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è:
- ‚è≥ –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ –ø–ª–∞—Ç—ñ–∂–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ (LiqPay, Stripe)
- ‚è≥ –í–µ–±-–∞–¥–º—ñ–Ω–∫–∞
- ‚è≥ –ß–∞—Ç –º—ñ–∂ –∫–ª—ñ—î–Ω—Ç–æ–º —ñ –≤–æ–¥—ñ—î–º
- ‚è≥ –ë–∞–≥–∞—Ç–æ–º–æ–≤–Ω—ñ—Å—Ç—å

---

## üìû –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

–í—Å—ñ –æ—Å–Ω–æ–≤–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ —Ç–∞ –ø—Ä–æ—Ç–µ—Å—Ç–æ–≤–∞–Ω–æ.  
–ë–æ—Ç –≥–æ—Ç–æ–≤–∏–π –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è! üöÄ

**–î—è–∫—É—é –∑–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è! üöñüí®**

---

**–î–∞—Ç–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è:** 2025-10-14  
**–í–µ—Ä—Å—ñ—è:** 1.0.0  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –¥–æ –ø—Ä–æ–¥–∞–∫—à–Ω
