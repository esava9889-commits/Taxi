# –ü–õ–ê–ù –†–ï–§–ê–ö–¢–û–†–ò–ù–ì–£: –Ü–Ω–ª–∞–π–Ω-–∫–Ω–æ–ø–∫–∏ –≤—Å—é–¥–∏

**–ú–µ—Ç–∞:** –ó—Ä–æ–±–∏—Ç–∏ –≤–µ—Å—å —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å —ñ–Ω–ª–∞–π–Ω –∑ –∫–Ω–æ–ø–∫–∞–º–∏ "–ù–∞–∑–∞–¥", —â–æ–± —á–∞—Ç –±—É–≤ —á–∏—Å—Ç–∏–π

---

## üéØ –ó–ê–í–î–ê–ù–ù–Ø

### –û—Å–Ω–æ–≤–Ω—ñ –ø—Ä–∏–Ω—Ü–∏–ø–∏:
1. ‚úÖ –í—Å—ñ –∫–Ω–æ–ø–∫–∏ - —ñ–Ω–ª–∞–π–Ω (InlineKeyboard)
2. ‚úÖ –í–∏–¥–∞–ª–µ–Ω–Ω—è/–æ–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å (edit_text)
3. ‚úÖ –ö–Ω–æ–ø–∫–∞ "‚¨ÖÔ∏è –ù–∞–∑–∞–¥" –Ω–∞ –∫–æ–∂–Ω–æ–º—É –∫—Ä–æ—Ü—ñ
4. ‚úÖ –ú—ñ–Ω—ñ–º—É–º –Ω–æ–≤–∏—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å - –º–∞–∫—Å–∏–º—É–º –æ–Ω–æ–≤–ª–µ–Ω—å

---

## üìã –û–ë–†–û–ë–ù–ò–ö–ò –î–õ–Ø –í–ò–ü–†–ê–í–õ–ï–ù–ù–Ø

### 1. –ó–±–µ—Ä–µ–∂–µ–Ω—ñ –∞–¥—Ä–µ—Å–∏ (–ö–†–ò–¢–ò–ß–ù–û)

**–§–∞–π–ª:** `app/handlers/saved_addresses.py` –∞–±–æ `start.py`

**–ü—Ä–æ–±–ª–µ–º–∞:** 
- "–î–æ–¥–∞—Ç–∏ –∞–¥—Ä–µ—Å—É" —Å—Ç–≤–æ—Ä—é—î –Ω–æ–≤–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î FSM –∑ ReplyKeyboard
- –ù–µ–º–∞—î –∫–Ω–æ–ø–∫–∏ "–ù–∞–∑–∞–¥"

**–¢—Ä–µ–±–∞:**
- [ ] –ó—Ä–æ–±–∏—Ç–∏ –≤–µ—Å—å —Ñ–ª–æ—É —ñ–Ω–ª–∞–π–Ω
- [ ] –î–æ–¥–∞—Ç–∏ "–ù–∞–∑–∞–¥" –Ω–∞ –∫–æ–∂–Ω–æ–º—É –∫—Ä–æ—Ü—ñ
- [ ] –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ edit_text –∑–∞–º—ñ—Å—Ç—å answer

---

### 2. –ó–∞–º–æ–≤–ª–µ–Ω–Ω—è —Ç–∞–∫—Å—ñ (–ö–†–ò–¢–ò–ß–ù–û)

**–§–∞–π–ª:** `app/handlers/order.py`

**–ö—Ä–æ–∫–∏:**
1. –ó–≤—ñ–¥–∫–∏? (–ª–æ–∫–∞—Ü—ñ—è/–∞–¥—Ä–µ—Å–∞)
2. –ö—É–¥–∏? (–ª–æ–∫–∞—Ü—ñ—è/–∞–¥—Ä–µ—Å–∞)
3. –ö–ª–∞—Å –∞–≤—Ç–æ
4. –ö–æ–º–µ–Ω—Ç–∞—Ä (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)
5. –°–ø–æ—Å—ñ–± –æ–ø–ª–∞—Ç–∏
6. –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î ReplyKeyboard
- –ë–∞–≥–∞—Ç–æ answer() –∑–∞–º—ñ—Å—Ç—å edit_text()
- –ù–µ–º–∞—î –∫–Ω–æ–ø–∫–∏ "–ù–∞–∑–∞–¥" –Ω–∞ –∫–æ–∂–Ω–æ–º—É –∫—Ä–æ—Ü—ñ

**–¢—Ä–µ–±–∞:**
- [ ] –í—Å—ñ –∫—Ä–æ–∫–∏ - —ñ–Ω–ª–∞–π–Ω –∫–Ω–æ–ø–∫–∏
- [ ] "–ù–∞–∑–∞–¥" –Ω–∞ –∫–æ–∂–Ω–æ–º—É –∫—Ä–æ—Ü—ñ
- [ ] edit_text –¥–ª—è –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó
- [ ] –ú—ñ–Ω—ñ–º—É–º –Ω–æ–≤–∏—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å

---

### 3. –ü–∞–Ω–µ–ª—å –≤–æ–¥—ñ—è

**–§–∞–π–ª:** `app/handlers/driver_panel.py`

**–ö–Ω–æ–ø–∫–∏:**
- –ü–æ—á–∞—Ç–∏ —Ä–æ–±–æ—Ç—É
- –ú—ñ–π –∑–∞—Ä–æ–±—ñ—Ç–æ–∫
- –ö–æ–º—ñ—Å—ñ—è
- –Ü—Å—Ç–æ—Ä—ñ—è –ø–æ—ó–∑–¥–æ–∫
- –ì–∞–º–∞–Ω–µ—Ü—å
- –ê–Ω–∞–ª—ñ—Ç–∏–∫–∞

**–¢—Ä–µ–±–∞:**
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —á–∏ –≤—Å—ñ —ñ–Ω–ª–∞–π–Ω
- [ ] –î–æ–¥–∞—Ç–∏ "–ù–∞–∑–∞–¥" –¥–µ –Ω–µ–º–∞—î

---

### 4. –ü–∞–Ω–µ–ª—å –∞–¥–º—ñ–Ω–∞

**–§–∞–π–ª:** `app/handlers/admin.py`

**–ö–Ω–æ–ø–∫–∏:**
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ ‚úÖ (–≤–∂–µ —ñ–Ω–ª–∞–π–Ω)
- –ú–æ–¥–µ—Ä–∞—Ü—ñ—è –≤–æ–¥—ñ—ó–≤
- –í–æ–¥—ñ—ó
- –¢–∞—Ä–∏—Ñ–∏
- –†–æ–∑—Å–∏–ª–∫–∞

**–¢—Ä–µ–±–∞:**
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –º–æ–¥–µ—Ä–∞—Ü—ñ—é
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ç–∞—Ä–∏—Ñ–∏
- [ ] –î–æ–¥–∞—Ç–∏ "–ù–∞–∑–∞–¥"

---

### 5. –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è

**–§–∞–π–ª:** `app/handlers/registration.py`

**–ö—Ä–æ–∫–∏:**
1. –Ü–º'—è
2. –¢–µ–ª–µ—Ñ–æ–Ω
3. –ú—ñ—Å—Ç–æ

**–¢—Ä–µ–±–∞:**
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —á–∏ –º–æ–∂–Ω–∞ –∑—Ä–æ–±–∏—Ç–∏ —ñ–Ω–ª–∞–π–Ω
- [ ] –î–æ–¥–∞—Ç–∏ "–ù–∞–∑–∞–¥"

---

### 6. –Ü–Ω—à—ñ –æ–±—Ä–æ–±–Ω–∏–∫–∏

- [ ] SOS
- [ ] –î–æ–ø–æ–º–æ–≥–∞
- [ ] –†–µ–π—Ç–∏–Ω–≥–∏
- [ ] –ß–∞–π–æ–≤—ñ
- [ ] –ü—Ä–æ–º–æ–∫–æ–¥–∏

---

## üîß –ü–†–ò–ö–õ–ê–î –í–ò–ü–†–ê–í–õ–ï–ù–ù–Ø

### –î–û (–ø–æ–≥–∞–Ω–æ):
```python
@router.message(F.text == "üìç –î–æ–¥–∞—Ç–∏ –∞–¥—Ä–µ—Å—É")
async def add_address_start(message: Message, state: FSMContext):
    await state.set_state(AddressStates.name)
    await message.answer(
        "–í–≤–µ–¥—ñ—Ç—å –Ω–∞–∑–≤—É –∞–¥—Ä–µ—Å–∏:",
        reply_markup=cancel_keyboard()  # ReplyKeyboard
    )
```

### –ü–Ü–°–õ–Ø (–¥–æ–±—Ä–µ):
```python
@router.callback_query(F.data == "address:add")
async def add_address_start(call: CallbackQuery, state: FSMContext):
    await state.set_state(AddressStates.name)
    
    kb = InlineKeyboardMarkup(inline_keyboard=[
        [InlineKeyboardButton(text="‚ùå –°–∫–∞—Å—É–≤–∞—Ç–∏", callback_data="address:cancel")]
    ])
    
    try:
        await call.message.edit_text(
            "üìù –í–≤–µ–¥—ñ—Ç—å –Ω–∞–∑–≤—É –∞–¥—Ä–µ—Å–∏:\n\n"
            "–ù–∞–ø—Ä–∏–∫–ª–∞–¥: –î—ñ–º, –†–æ–±–æ—Ç–∞, –ú–∞–≥–∞–∑–∏–Ω",
            reply_markup=kb
        )
    except:
        await call.message.answer(
            "üìù –í–≤–µ–¥—ñ—Ç—å –Ω–∞–∑–≤—É –∞–¥—Ä–µ—Å–∏:\n\n"
            "–ù–∞–ø—Ä–∏–∫–ª–∞–¥: –î—ñ–º, –†–æ–±–æ—Ç–∞, –ú–∞–≥–∞–∑–∏–Ω",
            reply_markup=kb
        )

@router.callback_query(F.data == "address:cancel")
async def cancel_add_address(call: CallbackQuery, state: FSMContext):
    await state.clear()
    await show_saved_addresses(call)  # –ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –Ω–∞–∑–∞–¥
```

---

## üìä –ü–†–Ü–û–†–ò–¢–ï–¢–ò

### –§–∞–∑–∞ 1 (–ö–†–ò–¢–ò–ß–ù–û):
1. ‚úÖ –ó–±–µ—Ä–µ–∂–µ–Ω—ñ –∞–¥—Ä–µ—Å–∏ - –¥–æ–¥–∞–≤–∞–Ω–Ω—è/—Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è
2. ‚úÖ –ó–∞–º–æ–≤–ª–µ–Ω–Ω—è —Ç–∞–∫—Å—ñ - –≤–µ—Å—å —Ñ–ª–æ—É

### –§–∞–∑–∞ 2 (–í–ê–ñ–õ–ò–í–û):
3. –ü–∞–Ω–µ–ª—å –≤–æ–¥—ñ—è - –≤—Å—ñ –ø—ñ–¥–º–µ–Ω—é
4. –ú–æ–¥–µ—Ä–∞—Ü—ñ—è –≤–æ–¥—ñ—ó–≤ (–∞–¥–º—ñ–Ω)
5. –¢–∞—Ä–∏—Ñ–∏ (–∞–¥–º—ñ–Ω)

### –§–∞–∑–∞ 3 (–ë–ê–ñ–ê–ù–û):
6. –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è
7. SOS
8. –Ü–Ω—à—ñ –¥—Ä—ñ–±–Ω—ñ –æ–±—Ä–æ–±–Ω–∏–∫–∏

---

## ‚úÖ –ß–ï–ö-–õ–ò–°–¢ –î–õ–Ø –ö–û–ñ–ù–û–ì–û –û–ë–†–û–ë–ù–ò–ö–ê

–î–ª—è –∫–æ–∂–Ω–æ–≥–æ –æ–±—Ä–æ–±–Ω–∏–∫–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏:

- [ ] –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î InlineKeyboard (–Ω–µ ReplyKeyboard)
- [ ] –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î edit_text() –∑–∞–º—ñ—Å—Ç—å answer()
- [ ] –Ñ –∫–Ω–æ–ø–∫–∞ "‚¨ÖÔ∏è –ù–∞–∑–∞–¥" –∞–±–æ "‚ùå –°–∫–∞—Å—É–≤–∞—Ç–∏"
- [ ] –ü—Ä–∏ "–ù–∞–∑–∞–¥" –ø–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è –¥–æ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–≥–æ —Å—Ç–∞–Ω—É
- [ ] –ú—ñ–Ω—ñ–º—É–º –Ω–æ–≤–∏—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
- [ ] –í—Å—ñ callback_query –º–∞—é—Ç—å await call.answer()
- [ ] Try-except –¥–ª—è edit_text (fallback –Ω–∞ answer)

---

## üéØ –û–ß–Ü–ö–£–í–ê–ù–ò–ô –†–ï–ó–£–õ–¨–¢–ê–¢

### –ß–∞—Ç –∫–ª—ñ—î–Ω—Ç–∞ (–î–û):
```
–ë–æ—Ç: –ì–æ–ª–æ–≤–Ω–µ –º–µ–Ω—é
–ë–æ—Ç: –û–±–µ—Ä—ñ—Ç—å –¥—ñ—é
–ö–ª—ñ—î–Ω—Ç: –ú–æ—ó –∞–¥—Ä–µ—Å–∏
–ë–æ—Ç: –í–∞—à—ñ –∞–¥—Ä–µ—Å–∏: ...
–ö–ª—ñ—î–Ω—Ç: –î–æ–¥–∞—Ç–∏ –∞–¥—Ä–µ—Å—É
–ë–æ—Ç: –í–≤–µ–¥—ñ—Ç—å –Ω–∞–∑–≤—É  ‚Üê –Ω–æ–≤–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
–ö–ª—ñ—î–Ω—Ç: –î—ñ–º
–ë–æ—Ç: –í–≤–µ–¥—ñ—Ç—å –∞–¥—Ä–µ—Å—É  ‚Üê –Ω–æ–≤–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
... (–±–∞–≥–∞—Ç–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å)
```

### –ß–∞—Ç –∫–ª—ñ—î–Ω—Ç–∞ (–ü–Ü–°–õ–Ø):
```
–ë–æ—Ç: –ì–æ–ª–æ–≤–Ω–µ –º–µ–Ω—é
–ë–æ—Ç: –í–∞—à—ñ –∞–¥—Ä–µ—Å–∏: ... [–æ–Ω–æ–≤–ª–µ–Ω–æ]
–ë–æ—Ç: –í–≤–µ–¥—ñ—Ç—å –Ω–∞–∑–≤—É [–æ–Ω–æ–≤–ª–µ–Ω–æ]
–ë–æ—Ç: –í–≤–µ–¥—ñ—Ç—å –∞–¥—Ä–µ—Å—É [–æ–Ω–æ–≤–ª–µ–Ω–æ]
–ë–æ—Ç: ‚úÖ –ê–¥—Ä–µ—Å—É –¥–æ–¥–∞–Ω–æ [–æ–Ω–æ–≤–ª–µ–Ω–æ]
–ë–æ—Ç: –í–∞—à—ñ –∞–¥—Ä–µ—Å–∏: ... [–æ–Ω–æ–≤–ª–µ–Ω–æ]
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ó–∞–º—ñ—Å—Ç—å 7+ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å ‚Üí 1-2 –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è!

---

## üöÄ –ü–û–ß–ê–¢–û–ö –†–û–ë–û–¢–ò

–ü–æ—á–Ω—É –∑ –Ω–∞–π–∫—Ä–∏—Ç–∏—á–Ω—ñ—à–∏—Ö:
1. –ó–±–µ—Ä–µ–∂–µ–Ω—ñ –∞–¥—Ä–µ—Å–∏
2. –ó–∞–º–æ–≤–ª–µ–Ω–Ω—è —Ç–∞–∫—Å—ñ

–ë—É–¥—É —Ä–æ–±–∏—Ç–∏ –ø–æ—Å—Ç—É–ø–æ–≤–æ —ñ –∫–æ–º–º—ñ—Ç–∏—Ç–∏ –ø—ñ—Å–ª—è –∫–æ–∂–Ω–æ—ó –≤–µ–ª–∏–∫–æ—ó –∑–º—ñ–Ω–∏.

**–ì–æ—Ç–æ–≤–∏–π –¥–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥—É!**
