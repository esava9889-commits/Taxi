# üîß SQL –ó–ê–ü–ò–¢: –û–Ω–æ–≤–ª–µ–Ω–Ω—è –º—ñ—Å—Ç–∞ –¥–ª—è —ñ—Å–Ω—É—é—á–∏—Ö –≤–æ–¥—ñ—ó–≤

**‚ö†Ô∏è –í–ê–ñ–õ–ò–í–û:** –í–∏–∫–æ–Ω–∞–π—Ç–µ —Ü–µ–π –∑–∞–ø–∏—Ç –Ω–∞ Render –ø—ñ—Å–ª—è –¥–µ–ø–ª–æ—é!

---

## üéØ –ü–†–û–ë–õ–ï–ú–ê

–í–æ–¥—ñ—ó —Å—Ç–≤–æ—Ä–µ–Ω—ñ **–î–û** –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –º–∞—é—Ç—å `city = NULL` –≤ –ë–î.

**–ù–æ–≤—ñ –≤–æ–¥—ñ—ó** —Å—Ç–≤–æ—Ä—é—é—Ç—å—Å—è –∑ –º—ñ—Å—Ç–æ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ ‚úÖ  
**–°—Ç–∞—Ä—ñ –≤–æ–¥—ñ—ó** –ø–æ—Ç—Ä–µ–±—É—é—Ç—å –æ–Ω–æ–≤–ª–µ–Ω–Ω—è ‚ö†Ô∏è

---

## ‚úÖ –†–Ü–®–ï–ù–ù–Ø: 1 SQL –ó–ê–ü–ò–¢

### –ù–∞ Render PostgreSQL:

```sql
UPDATE drivers 
SET city = (
    SELECT city 
    FROM users 
    WHERE users.tg_user_id = drivers.tg_user_id
)
WHERE city IS NULL OR city = '';
```

**–ß–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è:** ~1 —Å–µ–∫—É–Ω–¥–∞  
**–ë–µ–∑–ø–µ—á–Ω—ñ—Å—Ç—å:** ‚úÖ –¢—ñ–ª—å–∫–∏ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è city

---

## üìã –ü–û–ö–†–û–ö–û–í–ê –Ü–ù–°–¢–†–£–ö–¶–Ü–Ø

### –ö—Ä–æ–∫ 1: –í—ñ–¥–∫—Ä–∏—Ç–∏ Render Dashboard

1. –ó–∞–π–¥—ñ—Ç—å –Ω–∞ https://dashboard.render.com
2. –í–∏–±–µ—Ä—ñ—Ç—å –≤–∞—à **PostgreSQL** —Å–µ—Ä–≤—ñ—Å
3. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –Ω–∞ –≤–∫–ª–∞–¥–∫—É **"Shell"** –∞–±–æ **"Connect"**

---

### –ö—Ä–æ–∫ 2: –ü—ñ–¥–∫–ª—é—á–∏—Ç–∏—Å—å –¥–æ –ë–î

**–ú–µ—Ç–æ–¥ 1: –ß–µ—Ä–µ–∑ Shell –≤ Dashboard**
```bash
# Render –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—ñ–¥–∫–ª—é—á–∏—Ç—å –≤–∞—Å –¥–æ psql
# –ü—Ä–æ—Å—Ç–æ –≤—ñ–¥–∫—Ä–∏–π—Ç–µ Shell –≤–∫–ª–∞–¥–∫—É
```

**–ú–µ—Ç–æ–¥ 2: –ß–µ—Ä–µ–∑ –ª–æ–∫–∞–ª—å–Ω–∏–π —Ç–µ—Ä–º—ñ–Ω–∞–ª (—è–∫—â–æ —î –¥–æ—Å—Ç—É–ø)**
```bash
# –°–∫–æ–ø—ñ—é–π—Ç–µ DATABASE_URL –∑ Render
psql "–≤–∞—à_DATABASE_URL_—Ç—É—Ç"
```

---

### –ö—Ä–æ–∫ 3: –í–∏–∫–æ–Ω–∞—Ç–∏ –∑–∞–ø–∏—Ç

**–°–∫–æ–ø—ñ—é–π—Ç–µ —Ç–∞ –≤—Å—Ç–∞–≤—Ç–µ:**
```sql
UPDATE drivers 
SET city = (
    SELECT city 
    FROM users 
    WHERE users.tg_user_id = drivers.tg_user_id
)
WHERE city IS NULL OR city = '';
```

**–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å Enter**

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
UPDATE 3
```
(–¥–µ 3 - –∫—ñ–ª—å–∫—ñ—Å—Ç—å –æ–Ω–æ–≤–ª–µ–Ω–∏—Ö –≤–æ–¥—ñ—ó–≤)

---

### –ö—Ä–æ–∫ 4: –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç

**–í–∏–∫–æ–Ω–∞–π—Ç–µ:**
```sql
SELECT id, full_name, city FROM drivers;
```

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
 id |  full_name   |  city  
----+--------------+--------
  1 | –Ü–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤  | –ö–∏—ó–≤   ‚úÖ
  2 | –ü–µ—Ç—Ä–æ –Ü–≤–∞–Ω–æ–≤ | –õ—å–≤—ñ–≤  ‚úÖ
  3 | –ú–∞—Ä—ñ—è –ö–æ–≤–∞–ª—å | –û–¥–µ—Å–∞  ‚úÖ
```

**–í—Å—ñ –≤–æ–¥—ñ—ó –º–∞—é—Ç—å –º—ñ—Å—Ç–æ!** ‚úÖ

---

## üîç –î–û–î–ê–¢–ö–û–í–Ü –ü–ï–†–ï–í–Ü–†–ö–ò

### –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –≤–æ–¥—ñ—ó–≤ –ë–ï–ó –º—ñ—Å—Ç–∞ (–º–∞—î –±—É—Ç–∏ 0):

```sql
SELECT id, full_name, city 
FROM drivers 
WHERE city IS NULL OR city = '';
```

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
(0 rows)
```

---

### –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –≤—Å—ñ –º—ñ—Å—Ç–∞:

```sql
SELECT city, COUNT(*) as –≤–æ–¥—ñ—ó–≤ 
FROM drivers 
GROUP BY city 
ORDER BY –≤–æ–¥—ñ—ó–≤ DESC;
```

**–ü—Ä–∏–∫–ª–∞–¥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É:**
```
  city  | –≤–æ–¥—ñ—ó–≤
--------+--------
 –ö–∏—ó–≤   |     5
 –õ—å–≤—ñ–≤  |     2
 –û–¥–µ—Å–∞  |     1
```

---

## ‚ö†Ô∏è –í–ê–ñ–õ–ò–í–Ü –ù–û–¢–ê–¢–ö–ò

### 1. –ö–æ–ª–∏ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏:
**–ó–ê–†–ê–ó!** –û–¥—Ä–∞–∑—É –ø—ñ—Å–ª—è –¥–µ–ø–ª–æ—é –∫–æ–¥—É –∑ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è–º–∏.

### 2. –°–∫—ñ–ª—å–∫–∏ —Ä–∞–∑—ñ–≤:
**–û–î–ò–ù –†–ê–ó!** –ü–æ–≤—Ç–æ—Ä–Ω–æ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ.

### 3. –ë–µ–∑–ø–µ—á–Ω—ñ—Å—Ç—å:
‚úÖ **–ë–ï–ó–ü–ï–ß–ù–û** - –∑–∞–ø–∏—Ç —Ç—ñ–ª—å–∫–∏ –æ–Ω–æ–≤–ª—é—î `city`  
‚úÖ –ù–µ –≤–∏–¥–∞–ª—è—î –¥–∞–Ω—ñ  
‚úÖ –ù–µ –∑–º—ñ–Ω—é—î —ñ–Ω—à—ñ –ø–æ–ª—è  
‚úÖ –ú–∞—î `WHERE` —É–º–æ–≤—É (—Ç—ñ–ª—å–∫–∏ NULL –∞–±–æ –ø–æ—Ä–æ–∂–Ω—ñ)

### 4. –í—ñ–¥–∫–∞—Ç (—è–∫—â–æ —â–æ—Å—å –Ω–µ —Ç–∞–∫):
–ù–µ–º–∞—î –ø–æ—Ç—Ä–µ–±–∏ - –∑–∞–ø–∏—Ç —Ç—ñ–ª—å–∫–∏ –∑–∞–ø–æ–≤–Ω—é—î –ø–æ—Ä–æ–∂–Ω—ñ –ø–æ–ª—è.

---

## üß™ –¢–ï–°–¢–£–í–ê–ù–ù–Ø –ü–Ü–°–õ–Ø –í–ò–ö–û–ù–ê–ù–ù–Ø

### –¢–µ—Å—Ç 1: –ü–∞–Ω–µ–ª—å –≤–æ–¥—ñ—è

1. –ó–∞–π–¥—ñ—Ç—å —è–∫ –≤–æ–¥—ñ–π
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **üöó –ü–∞–Ω–µ–ª—å –≤–æ–¥—ñ—è**

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
üèô –ú—ñ—Å—Ç–æ: –ö–∏—ó–≤ ‚úÖ
```

---

### –¢–µ—Å—Ç 2: –ê–¥–º—ñ–Ω –ø–∞–Ω–µ–ª—å

1. –ó–∞–π–¥—ñ—Ç—å —è–∫ –∞–¥–º—ñ–Ω
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **üë• –í–æ–¥—ñ—ó**
3. –í–∏–±–µ—Ä—ñ—Ç—å –≤–æ–¥—ñ—è

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
–ó–∞—è–≤–∫–∞ #42

üë§ –ü–Ü–ë: –Ü–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤
üèô –ú—ñ—Å—Ç–æ: –ö–∏—ó–≤ ‚úÖ
üöó –ê–≤—Ç–æ: Toyota Camry
```

---

### –¢–µ—Å—Ç 3: –ù–æ–≤–∞ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –≤–æ–¥—ñ—è

1. –ó–∞—Ä–µ—î—Å—Ç—Ä—É–π—Ç–µ –Ω–æ–≤–æ–≥–æ –≤–æ–¥—ñ—è
2. –ü–æ–¥–∞–π—Ç–µ –∑–∞—è–≤–∫—É
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤ –ë–î

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```sql
SELECT city FROM drivers WHERE tg_user_id = –Ω–æ–≤–∏–π_id;
-- –ú–∞—î –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ –º—ñ—Å—Ç–æ ‚úÖ
```

---

## üìû –î–û–ü–û–ú–û–ì–ê

### –Ø–∫—â–æ –≤–∏–Ω–∏–∫–ª–∏ –ø–∏—Ç–∞–Ω–Ω—è:

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ –º–æ–∂—É –ø—ñ–¥–∫–ª—é—á–∏—Ç–∏—Å—å –¥–æ –ë–î  
**–†—ñ—à–µ–Ω–Ω—è:** –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ DATABASE_URL –≤ Render ‚Üí Environment

**–ü—Ä–æ–±–ª–µ–º–∞:** –ó–∞–ø–∏—Ç –Ω–µ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è  
**–†—ñ—à–µ–Ω–Ω—è:** –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —á–∏ –≤–∏ –≤ psql –∫–æ–Ω—Å–æ–ª—ñ (–º–∞—î –±—É—Ç–∏ `database=>`)

**–ü—Ä–æ–±–ª–µ–º–∞:** –ú—ñ—Å—Ç–æ –≤—Å–µ —â–µ NULL  
**–†—ñ—à–µ–Ω–Ω—è:** 
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —á–∏ —î –º—ñ—Å—Ç–æ –≤ users: `SELECT tg_user_id, city FROM users;`
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —á–∏ –∑–∞–ø–∏—Ç –≤–∏–∫–æ–Ω–∞–≤—Å—è: `SELECT * FROM drivers;`

---

## ‚ö° –®–í–ò–î–ö–ò–ô –°–¢–ê–†–¢

**–ö–æ–ø—ñ—é–π —Ç–∞ –≤—Å—Ç–∞–≤–ª—è–π:**

```sql
-- 1. –û–Ω–æ–≤–∏—Ç–∏ –º—ñ—Å—Ç–æ
UPDATE drivers SET city = (SELECT city FROM users WHERE users.tg_user_id = drivers.tg_user_id) WHERE city IS NULL OR city = '';

-- 2. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏
SELECT id, full_name, city FROM drivers;

-- 3. –ü—ñ–¥—Ä–∞—Ö—É–≤–∞—Ç–∏ –æ–Ω–æ–≤–ª–µ–Ω–∏—Ö
SELECT COUNT(*) as "–í–æ–¥—ñ—ó–≤ –∑ –º—ñ—Å—Ç–æ–º" FROM drivers WHERE city IS NOT NULL AND city != '';
```

**–ì–æ—Ç–æ–≤–æ!** üéâ

---

## üìä –û–ß–Ü–ö–£–í–ê–ù–ò–ô –†–ï–ó–£–õ–¨–¢–ê–¢

### –î–æ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è SQL:
```
drivers —Ç–∞–±–ª–∏—Ü—è:
| id | full_name  | city |
|----|------------|------|
| 1  | –Ü–≤–∞–Ω       | NULL | ‚ùå
| 2  | –ü–µ—Ç—Ä–æ      | NULL | ‚ùå
```

### –ü—ñ—Å–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è SQL:
```
drivers —Ç–∞–±–ª–∏—Ü—è:
| id | full_name  | city |
|----|------------|------|
| 1  | –Ü–≤–∞–Ω       | –ö–∏—ó–≤ | ‚úÖ
| 2  | –ü–µ—Ç—Ä–æ      | –õ—å–≤—ñ–≤| ‚úÖ
```

---

**–í–∏–∫–æ–Ω–∞–π—Ç–µ SQL –∑–∞–ø–∏—Ç —Ç–∞ –≤—Å–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏–º–µ!** üéØ‚úÖ
